<!DOCTYPE HTML><html><head><meta charset="UTF-8"></meta><style rel="stylesheet">.sasError{color: #d80000;}.sasMessage{color:ssSourceColor;}.sasWarning{color:#1b7a1b;}.sasSource{color:ssSourceColor;}.sasNote{color:#0072b2;}</style><title></title></head><body class='sasLog'><pre class='sasLog' id='pre_sasLog_988cbb71-46f4-4eca-9352-87f288948b49' style='background-color:transparent; -webkit-user-select: text; -webkit-user-modify: read-only;-webkit-touch-callout: default;border-top-width: 0px;border-bottom-width: 0px'><div class='sasSource'>1    /* region: Generated preamble */</div><div class='sasSource'>2    /* Make sure the current directory is writable */</div><div class='sasSource'>3    data _null_;</div><div class='sasSource'>4        length rc 4;</div><div class='sasSource'>5        %let tworkloc="%sysfunc(getoption(work))";</div><div class='sasSource'>6        rc=dlgcdir(&amp;tworkloc);</div><div class='sasSource'>7    run;</div><div class='sasNote' id='sasLogNote_ec9d5d54-8fba-4db8-8f2c-777aa2457b8a'></div><div class='sasNote' id='sasLogNote_95694358-9857-4c01-9ad4-4b41bcfc9833'>NOTE: The current working directory is now </div><div class='sasNote' id='sasLogNote_2a76729e-35fb-47e2-b29b-4848726dd958'>      "/opt/sas/viya/config/var/tmp/compsrv/default/c8cd6733-3df7-40e9-809d-568cdc6bcfa8/SAS_workA33400000217_sas-compute-server-513</div><div class='sasNote' id='sasLogNote_a64e32e6-48d8-44be-9d6f-2ed4a73b9f60'>      b392a-e056-4a1a-8e5a-c8d6dd717058-36631".</div><div class='sasNote' id='sasLogNote_12644dd4-6fab-4f3e-8a91-2b838a360149'>NOTE: DATA statement used (Total process time):</div><div class='sasNote' id='sasLogNote_fd26c3d5-6a2f-4213-810c-f7fbe06fabb6'>      real time           0.00 seconds</div><div class='sasNote' id='sasLogNote_e8a5e67a-35de-428e-ad84-7486808a6132'>      cpu time            0.00 seconds</div><div class='sasNote' id='sasLogNote_9eaab2e0-d934-4363-8545-25849cb7cf6b'>      </div><div class='sasNote' id='sasLogNote_9aaeabfe-e7ea-422f-89eb-00ddb25d0fe5'></div><div class='sasSource'>8    </div><div class='sasSource'>9    /* Setup options */</div><div class='sasSource'>10   title;</div><div class='sasSource'>11   footnote;</div><div class='sasSource'>12   options validvarname=any;</div><div class='sasSource'>13   options validmemname=extend;</div><div class='sasSource'>14   options dtreset date number;</div><div class='sasSource'>15   options device=png;</div><div class='sasSource'>16   </div><div class='sasSource'>17   /* Setup macro variables */</div><div class='sasSource'>18   %let syscc=0;</div><div class='sasSource'>19   %let _clientapp = %nrquote(%nrstr(SAS Studio));</div><div class='sasSource'>20   %let _clientappabbrev = %nrquote(%nrstr(Studio));</div><div class='sasSource'>21   %let _clientappversion=2025.03;</div><div class='sasSource'>22   %let _clientversion=;</div><div class='sasSource'>23   %let _sasservername=&amp;SYSHOSTNAME;</div><div class='sasSource'>24   %let _sashostname=&amp;SYSHOSTNAME;</div><div class='sasSource'>25   %let _sasprogramfilehost=&amp;SYSHOSTNAME;</div><div class='sasSource'>26   %let _clientuserid = %nrquote(%nrstr(kehinde.oladele@agric.uniben.edu));</div><div class='sasSource'>27   %let _clientusername = %nrquote(%nrstr(kehinde.oladele@agric.uniben.edu));</div><div class='sasSource'>28   %let clientmachine = %nrquote(%nrstr());</div><div class='sasSource'>29   %let _clientmachine = %nrquote(%nrstr());</div><div class='sasSource'>30   %let _clientmode = %nrquote(%nrstr(viya));</div><div class='sasSource'>31   %let sasworklocation="%sysfunc(getoption(work))/";</div><div class='sasSource'>32   filename _cwd &amp;sasworklocation;</div><div class='sasSource'>33   data _null_;</div><div class='sasSource'>34       call symput('_sasworkingdir',pathname('_cwd'));</div><div class='sasSource'>35   run;</div><div class='sasNote' id='sasLogNote_1aff07c8-7363-4e58-b12e-189cce8c07f6'></div><div class='sasNote' id='sasLogNote_b1da33d2-3632-4fe4-82ac-301cb5944f7c'>NOTE: DATA statement used (Total process time):</div><div class='sasNote' id='sasLogNote_cc3a4390-e521-40fa-b279-a0bc4a481515'>      real time           0.00 seconds</div><div class='sasNote' id='sasLogNote_06219232-1329-4c66-8894-8bdc6fd129da'>      cpu time            0.00 seconds</div><div class='sasNote' id='sasLogNote_f9aff4fc-80f7-444e-b53f-ec3d4e9e886b'>      </div><div class='sasNote' id='sasLogNote_52c9b844-3b8c-4a80-91d9-b414e14cc654'></div><div class='sasSource'>36   filename _cwd;</div><div class='sasNote' id='sasLogNote_3a577e41-6750-4a5c-a3e1-321d7e94a5fc'>NOTE: Fileref _CWD has been deassigned.</div><div class='sasSource'>37   %let _sasprogramfile = %nrquote(%nrstr(sascontent:/files/files/17c90141-9e07-4f4e-9224-0fab2e76400d));</div><div class='sasSource'>38   %let _baseurl = %nrquote(%nrstr(https://vfl-041.engage.sas.com/SASStudio/));</div><div class='sasSource'>39   %let _execenv = %nrquote(%nrstr(SASStudio));</div><div class='sasSource'>40   %symdel _dataout_mime_type _dataout_name _dataout_url _dataout_table / nowarn;</div><div class='sasSource'>41   %let _sasws_ = %bquote(%sysfunc(getoption(work)));</div><div class='sasSource'>42   %let _saswstemp_ = %bquote(%sysfunc(getoption(work)));</div><div class='sasSource'>43   </div><div class='sasSource'>44   /* Detect SAS/Graph and setup graph options */</div><div class='sasSource'>45   data _null_;</div><div class='sasSource'>46       length rc $255;</div><div class='sasSource'>47       call symput("graphinit","");</div><div class='sasSource'>48       call symput("graphterm","");</div><div class='sasSource'>49       rc=tslvl('sasxgopt','n');</div><div class='sasSource'>50       _error_=0;</div><div class='sasSource'>51       if (rc^=' ') then do;</div><div class='sasSource'>52           call symput("graphinit","goptions reset=all gsfname=_gsfname;");</div><div class='sasSource'>53           call symput("graphterm","goptions noaccessible;");</div><div class='sasSource'>54       end;</div><div class='sasSource'>55   run;</div><div class='sasNote' id='sasLogNote_5c6c97cf-9b97-428a-b488-90974fc99067'></div><div class='sasNote' id='sasLogNote_be74fc3e-f867-4bee-8677-241af77ca7d3'>NOTE: DATA statement used (Total process time):</div><div class='sasNote' id='sasLogNote_dd688020-0586-4519-bf38-e77e1817e336'>      real time           0.00 seconds</div><div class='sasNote' id='sasLogNote_6a0924ef-6872-4823-ba94-b8ce3e39a386'>      cpu time            0.00 seconds</div><div class='sasNote' id='sasLogNote_3c91e64b-68e2-4149-a322-33f88c60a57f'>      </div><div class='sasNote' id='sasLogNote_d82f7315-3310-4d80-8ce5-9697df4d32bf'></div><div class='sasSource'>56   data _null_;</div><div class='sasSource'>57       length rc 4;</div><div class='sasSource'>58       rc=sysprod("PRODNUM002");</div><div class='sasSource'>59       if (rc^=1) then do;</div><div class='sasSource'>60           call symput("graphinit","");</div><div class='sasSource'>61           call symput("graphterm","");</div><div class='sasSource'>62       end;</div><div class='sasSource'>63   run;</div><div class='sasNote' id='sasLogNote_4ad95ffa-2db5-4c26-9716-a9cbf269dd2c'></div><div class='sasNote' id='sasLogNote_8243f0e9-3533-418a-bd4d-791bf8fdf772'>NOTE: DATA statement used (Total process time):</div><div class='sasNote' id='sasLogNote_f84d9cb4-4deb-4731-a690-19288c42a15d'>      real time           0.00 seconds</div><div class='sasNote' id='sasLogNote_93f3573c-5ad8-43d3-a5c6-3b79784045ea'>      cpu time            0.00 seconds</div><div class='sasNote' id='sasLogNote_7b69936d-b798-463b-bc4d-9bce3d8f8d25'>      </div><div class='sasNote' id='sasLogNote_6700beb6-cb8c-4788-a35d-5e47cbe7f8bf'></div><div class='sasSource'>64   </div><div class='sasSource'>65   /* Setup ODS destinations */</div><div class='sasSource'>66   ods _all_ close;</div><div class='sasSource'>67   %studio_results_directory;</div><div class='sasSource'>68   filename _htmlout "&amp;_results_prefix_..html";</div><div class='sasSource'>69   filename _listout "&amp;_results_prefix_..lst";</div><div class='sasSource'>70   filename _gsfname temp;</div><div class='sasSource'>71   filename _dataout "&amp;_results_prefix_..dat";</div><div class='sasSource'>72   ods autonavigate off;</div><div class='sasSource'>73   ods graphics on;</div><div class='sasSource'>74   ods html5 (id=web) METATEXT='http-equiv="Content-Security-Policy" content="default-src ''none''; style-src ''unsafe-inline'';</div><div class='sasSource'>74 ! img-src data: ;"' device=png gpath="&amp;_saswstemp_" path="&amp;_saswstemp_" encoding=utf8 file=_htmlout (title='Results:SAS</div><div class='sasSource'>74 ! Program.sas') style=Illuminate options(bitmap_mode='inline' outline='on' svg_mode='inline'</div><div class='sasSource'>74 ! css_prefix=".ods_&amp;SYS_COMPUTE_JOB_ID" body_id="div_&amp;SYS_COMPUTE_JOB_ID" );</div><div class='sasNote' id='sasLogNote_cd973445-28b2-414d-a53d-6e0b1a040060'>NOTE: Writing HTML5(WEB) Body file: _HTMLOUT</div><div class='sasSource'>75   ods listing file=_listout;</div><div class='sasSource'>76   &amp;graphinit;</div><div class='sasSource'>77   %studio_show_only_notes_wrapper;</div><div class='sasNote' id='sasLogNote_fcf850f0-ea09-4f1e-a336-7f05ee215286'>NOTE: ODS statements in the SAS Studio environment may disable some output features.</div><div class='sasSource'>80   %studio_initialize_custom_output;</div><div class='sasSource'>81   /* endregion */</div><div class='sasSource'>82   </div><div class='sasSource'>83   /************************************************************************</div><div class='sasSource'>84    Predictive / Explanatory analysis for compliance</div><div class='sasSource'>85    - Correlation, Linear regression, Logistic regression, Factor analysis</div><div class='sasSource'>86    - Runs per group: Staff, Student, Combined</div><div class='sasSource'>87    Assumes datasets:</div><div class='sasSource'>88      WORK.STAFF_CLEAN  (staff)</div><div class='sasSource'>89      WORK.STUDENTS_CLEAN (students)</div><div class='sasSource'>90      or WORK.COMBINED already exists</div><div class='sasSource'>91   ************************************************************************/</div><div class='sasSource'>92   </div><div class='sasSource'>93   /* 0. Ensure combined dataset exists (create if needed) */</div><div class='sasSource'>94   data work.combined;</div><div class='sasSource'>95     set</div><div class='sasSource'>96       work.staff_clean (in=_s)</div><div class='sasSource'>97       work.students_clean (in=_u);</div><div class='sasSource'>98     if _s then group = 'Staff';</div><div class='sasSource'>99     else if _u then group = 'Student';</div><div class='sasSource'>100  run;</div><div class='sasNote' id='sasLogNote_624bbdb6-1c29-4121-95b8-12ba8964d896'></div><div class='sasNote' id='sasLogNote_69bc43c5-4937-45e2-b3cd-f7af0350bc2a'>NOTE: There were 235 observations read from the data set WORK.STAFF_CLEAN.</div><div class='sasNote' id='sasLogNote_1b8b68dc-aeb2-4261-b31c-91fd6291bedd'>NOTE: There were 372 observations read from the data set WORK.STUDENTS_CLEAN.</div><div class='sasNote' id='sasLogNote_c140096a-475b-484d-98fd-9c7584662e53'>NOTE: The data set WORK.COMBINED has 607 observations and 34 variables.</div><div class='sasNote' id='sasLogNote_421cfc38-ed17-4f76-b4db-8f7180a14b5c'>NOTE: DATA statement used (Total process time):</div><div class='sasNote' id='sasLogNote_75a4f16d-5199-4f4e-b2d3-58d3a219d575'>      real time           0.00 seconds</div><div class='sasNote' id='sasLogNote_71ab3eee-45f3-4789-b355-c9f02ae08cec'>      cpu time            0.01 seconds</div><div class='sasNote' id='sasLogNote_268b4eaa-cf05-43ea-92ca-da8642e2fc0e'>      </div><div class='sasNote' id='sasLogNote_e36635fb-bd6f-468e-8c55-35671c059d53'></div><div class='sasSource'>101  </div><div class='sasSource'>102  /* 1. Create numeric indicators and composite compliance variables */</div><div class='sasSource'>103  /* Adjust text-match rules below if your raw values differ */</div><div class='sasSource'>104  data work.combined_numeric;</div><div class='sasSource'>105    set work.combined;</div><div class='sasSource'>106  </div><div class='sasSource'>107    /* standardize text */</div><div class='sasSource'>108    array charvars{*} faculty jobtitle signage aspect conduct witnessed informed trained places control emergency biggest;</div><div class='sasSource'>109    do i=1 to dim(charvars);</div><div class='sasSource'>110      if vtype(charvars[i])='C' and charvars[i] ne '' then charvars[i]=strip(charvars[i]);</div><div class='sasSource'>111    end;</div><div class='sasSource'>112    drop i;</div><div class='sasSource'>113  </div><div class='sasSource'>114    /* Binary indicators (1 = positive/yes/observed, 0 = otherwise) */</div><div class='sasSource'>115    /* Trained: 'Yes' -&gt;1 ; 'Partially' -&gt; .5 (if you'd prefer) ; else 0 */</div><div class='sasSource'>116    trained_up = upcase(strip(trained));</div><div class='sasSource'>117    if trained_up =: 'YES' then trained_bin = 1;</div><div class='sasSource'>118    else if trained_up =: 'PARTI' then trained_bin = 0.5;</div><div class='sasSource'>119    else if trained_up =: 'PAR' then trained_bin = 0.5;</div><div class='sasSource'>120    else if trained_up =: 'NO' then trained_bin = 0;</div><div class='sasSource'>121    else trained_bin = .;</div><div class='sasSource'>122  </div><div class='sasSource'>123    /* Control measures present */</div><div class='sasSource'>124    control_up = upcase(strip(control));</div><div class='sasSource'>125    if control_up =: 'YES' then control_bin = 1;</div><div class='sasSource'>126    else if control_up =: 'NO' then control_bin = 0;</div><div class='sasSource'>127    else control_bin = .;</div><div class='sasSource'>128  </div><div class='sasSource'>129    /* Specific risky places indicated */</div><div class='sasSource'>130    places_up = upcase(strip(places));</div><div class='sasSource'>131    if places_up =: 'YES' then places_bin = 1;</div><div class='sasSource'>132    else if places_up =: 'NO' then places_bin = 0;</div><div class='sasSource'>133    else places_bin = .;</div><div class='sasSource'>134  </div><div class='sasSource'>135    /* Emergency equipment present */</div><div class='sasSource'>136    emergency_up = upcase(strip(emergency));</div><div class='sasSource'>137    if emergency_up =: 'YES' then emergency_bin = 1;</div><div class='sasSource'>138    else if emergency_up =: 'NOT S' or emergency_up =: 'NOT' then emergency_bin = 0; /* Not sure treated 0 */</div><div class='sasSource'>139    else if emergency_up =: 'NO' then emergency_bin = 0;</div><div class='sasSource'>140    else emergency_bin = .;</div><div class='sasSource'>141  </div><div class='sasSource'>142    /* Witnessed an incident */</div><div class='sasSource'>143    witnessed_up = upcase(strip(witnessed));</div><div class='sasSource'>144    if witnessed_up =: 'YES' then witnessed_bin = 1;</div><div class='sasSource'>145    else if witnessed_up =: 'NO' then witnessed_bin = 0;</div><div class='sasSource'>146    else witnessed_bin = .;</div><div class='sasSource'>147  </div><div class='sasSource'>148    /* signage frequency - convert to ordered numeric where possible */</div><div class='sasSource'>149    signage_up = upcase(strip(signage));</div><div class='sasSource'>150    if signage_up =: 'NEVER' then signage_num = 1;</div><div class='sasSource'>151    else if signage_up =: 'RARE' then signage_num = 2;</div><div class='sasSource'>152    else if signage_up =: 'WEEK' then signage_num = 3;</div><div class='sasSource'>153    else if signage_up =: 'EVERY' and index(signage_up,'DAY') then signage_num = 4;</div><div class='sasSource'>154    else if signage_up =: 'EVERY HOUR' or index(signage_up,'HOUR') then signage_num = 5;</div><div class='sasSource'>155    else signage_num = .;</div><div class='sasSource'>156  </div><div class='sasSource'>157    /* Numeric perception items (assumes these exist and already numeric) */</div><div class='sasSource'>158    /* familiar safe confident effective rateinst  should be numeric already */</div><div class='sasSource'>159    /* if character, convert attempts: */</div><div class='sasSource'>160    array perc_vars{*} familiar safe confident effective rateinst;</div><div class='sasSource'>161    do j=1 to dim(perc_vars);</div><div class='sasSource'>162      if vtype(perc_vars[j])='C' then do;</div><div class='sasSource'>163        /* attempt numeric covert */</div><div class='sasSource'>164        perc_tmp = input(strip(perc_vars[j]), best12.);</div><div class='sasSource'>165        if not missing(perc_tmp) then perc_vars[j] = perc_tmp;</div><div class='sasSource'>166        else perc_vars[j] = .;</div><div class='sasSource'>167      end;</div><div class='sasSource'>168    end;</div><div class='sasSource'>169    drop j perc_tmp;</div><div class='sasSource'>170  </div><div class='sasSource'>171    /* Composite compliance score: sum of key binary indicators (0-4)</div><div class='sasSource'>172       treat 0.5 partial as 0.5 contribution */</div><div class='sasSource'>173    compliance_score = sum(trained_bin, control_bin, places_bin, emergency_bin); /* note sum ignores missing */</div><div class='sasSource'>174    /* Binary compliance: define compliant if score &gt;= 2 (adjust threshold as needed) */</div><div class='sasSource'>175    if not missing(compliance_score) then compliance_bin = (compliance_score &gt;= 2);</div><div class='sasSource'>176    else compliance_bin = .;</div><div class='sasSource'>177  </div><div class='sasSource'>178    /* Keep useful variables */</div><div class='sasSource'>179    keep faculty jobtitle group familiar safe confident effective rateinst</div><div class='sasSource'>180         trained_bin control_bin places_bin emergency_bin witnessed_bin signage_num</div><div class='sasSource'>181         compliance_score compliance_bin;</div><div class='sasSource'>182  run;</div><div class='sasNote' id='sasLogNote_2019210a-7361-499c-ac8a-30dff85a83bc'></div><div class='sasNote' id='sasLogNote_8ca7999a-635c-4a37-bde0-5febc77f22c0'>NOTE: Numeric values have been converted to character values at the places given by: (Line):(Column).</div><div class='sasNote' id='sasLogNote_d411fd0d-d757-4277-9837-6bf0411f10b8'>      164:30   </div><div class='sasNote' id='sasLogNote_3ad6437e-665c-43a8-8147-646b306e42fc'>NOTE: Missing values were generated as a result of performing an operation on missing values.</div><div class='sasNote' id='sasLogNote_5ffc7954-16ec-45c4-8607-311304abfe9e'>      Each place is given by: (Number of times) at (Line):(Column).</div><div class='sasNote' id='sasLogNote_a2cfa3f2-ec62-4d03-b1a0-8294c3c3b39d'>      372 at 173:22   </div><div class='sasNote' id='sasLogNote_6bc5fb21-76d0-4233-b325-64898f277076'>NOTE: There were 607 observations read from the data set WORK.COMBINED.</div><div class='sasNote' id='sasLogNote_a835ec12-66ba-4c62-a854-db77c97b3c23'>NOTE: The data set WORK.COMBINED_NUMERIC has 607 observations and 16 variables.</div><div class='sasNote' id='sasLogNote_8fef4e71-e920-4a58-b198-ad16fa047575'>NOTE: DATA statement used (Total process time):</div><div class='sasNote' id='sasLogNote_f7d143d1-937b-4409-b5e9-2daf84c59849'>      real time           0.00 seconds</div><div class='sasNote' id='sasLogNote_6f77ea6c-8602-4441-a84a-60e96c5df8ab'>      cpu time            0.00 seconds</div><div class='sasNote' id='sasLogNote_f1d0ce0e-d7e3-4819-a79b-caf336fe25a8'>      </div><div class='sasNote' id='sasLogNote_4f581213-d9ec-402f-810c-5716796a1be8'></div><div class='sasSource'>183  </div><div class='sasSource'>184  /* Quick peek to confirm new variables are OK */</div><div class='sasSource'>185  proc freq data=work.combined_numeric;</div><div class='sasSource'>186    tables group*compliance_bin trained_bin control_bin places_bin emergency_bin signage_num / norow nocol nopercent;</div><div class='sasSource'>187  run;</div><div class='sasNote' id='sasLogNote_12e32249-fbe0-4f93-b08e-c7ce2d8687f5'></div><div class='sasNote' id='sasLogNote_7066c6b5-be21-4183-b6b4-ad5a4ec719e2'>NOTE: There were 607 observations read from the data set WORK.COMBINED_NUMERIC.</div><div class='sasNote' id='sasLogNote_58284c61-edcb-4cb4-b60c-d9b25ce6dcc4'>NOTE: The PROCEDURE FREQ printed pages 266-267.</div><div class='sasNote' id='sasLogNote_dbcb8cd0-f3d9-4d2e-8e4b-ceda98f92ebc'>NOTE: PROCEDURE FREQ used (Total process time):</div><div class='sasNote' id='sasLogNote_5300687c-8fb0-45d3-8c11-d2d947ff1eb6'>      real time           0.02 seconds</div><div class='sasNote' id='sasLogNote_884c0415-c100-4206-ac3f-829b266dc4fa'>      cpu time            0.03 seconds</div><div class='sasNote' id='sasLogNote_46092e41-bf88-4a29-aaea-4a6f4dedc3f4'>      </div><div class='sasNote' id='sasLogNote_bf5acd0b-e927-409b-917d-fbc91792dd0d'></div><div class='sasSource'>188  </div><div class='sasSource'>189  proc means data=work.combined_numeric n mean std min max nmiss;</div><div class='sasSource'>190    class group;</div><div class='sasSource'>191    var compliance_score familiar safe confident effective rateinst signage_num;</div><div class='sasSource'>192  run;</div><div class='sasNote' id='sasLogNote_2c589302-8db9-464e-92d8-c91027c942f5'></div><div class='sasNote' id='sasLogNote_fb2a3c4b-b4f6-4d00-8184-a6009c0f98fa'>NOTE: There were 607 observations read from the data set WORK.COMBINED_NUMERIC.</div><div class='sasNote' id='sasLogNote_4a60955c-dd29-4afc-aac3-932c6b612c26'>NOTE: The PROCEDURE MEANS printed page 268.</div><div class='sasNote' id='sasLogNote_9a1fc808-8649-4aeb-b698-096bd62f7c07'>NOTE: PROCEDURE MEANS used (Total process time):</div><div class='sasNote' id='sasLogNote_95d21fed-9518-4a61-8ecb-0a9b37bdb466'>      real time           0.02 seconds</div><div class='sasNote' id='sasLogNote_b376f478-d13a-44ed-9fb1-9ff9aa855787'>      cpu time            0.03 seconds</div><div class='sasNote' id='sasLogNote_e2cdd57d-d5e7-4f00-b0bd-79881408ea59'>      </div><div class='sasNote' id='sasLogNote_4673715c-224c-457e-9247-21b43684f48b'></div><div class='sasSource'>193  </div><div class='sasSource'>194  /* 2. Correlations (Pearson) for perception variables and compliance score */</div><div class='sasSource'>195  %macro corr_by_group(g=);</div><div class='sasSource'>196    title "PROC CORR: Correlations - &amp;g";</div><div class='sasSource'>197    proc corr data=work.combined_numeric nosimple pearson plots=matrix(histogram);</div><div class='sasSource'>198      where upcase(group)=upcase("&amp;g");</div><div class='sasSource'>199      var familiar safe confident effective rateinst signage_num compliance_score;</div><div class='sasSource'>200      with compliance_score;</div><div class='sasSource'>201    run;</div><div class='sasSource'>202  %mend;</div><div class='sasSource'>203  </div><div class='sasSource'>204  %corr_by_group(g=Staff);</div><div class='sasNote' id='sasLogNote_8bd23498-0918-4d7f-944f-9f8d0c0aafc1'></div><div class='sasNote' id='sasLogNote_62d61c22-d387-4bb0-a68d-404a2276256d'>NOTE: The HISTOGRAM option within the PLOTS=MATRIX option is not applicable with the WITH statement.</div><div class='sasNote' id='sasLogNote_88c71ed2-4f5d-4ee5-bb7c-a69a20c17471'>NOTE: The PROCEDURE CORR printed page 269.</div><div class='sasNote' id='sasLogNote_e07533c8-98d4-4f61-9694-aaba4a600948'>NOTE: PROCEDURE CORR used (Total process time):</div><div class='sasNote' id='sasLogNote_594f6994-b06c-4ca1-9926-13d4c3e25412'>      real time           0.33 seconds</div><div class='sasNote' id='sasLogNote_e5f6bbd0-4373-4a64-ad0d-d889f6b54850'>      cpu time            0.08 seconds</div><div class='sasNote' id='sasLogNote_4d9f917d-3d64-44f1-ba64-befa6eaa66c2'>      </div><div class='sasNote' id='sasLogNote_562ed9ae-d024-4e12-aa1d-5265a06c1101'></div><div class='sasSource'>205  %corr_by_group(g=Student);</div><div class='sasNote' id='sasLogNote_56c6ffdf-03cc-4bd3-b3a3-074470a9e748'></div><div class='sasNote' id='sasLogNote_3fe38ff0-c7a6-4b65-9404-022dd1c4f586'>NOTE: The HISTOGRAM option within the PLOTS=MATRIX option is not applicable with the WITH statement.</div><div class='sasNote' id='sasLogNote_c66581da-4588-435a-a7b4-c3c22ac509ab'>NOTE: No observations were selected from data set WORK.COMBINED_NUMERIC.</div><div class='sasNote' id='sasLogNote_4ac93c4d-fb71-49ca-847b-4c92d888a408'>NOTE: PROCEDURE CORR used (Total process time):</div><div class='sasNote' id='sasLogNote_4d8beebb-68b4-4414-8f18-402ad5469596'>      real time           0.00 seconds</div><div class='sasNote' id='sasLogNote_1030b3d0-b83c-4c5c-a089-4de0d14363af'>      cpu time            0.00 seconds</div><div class='sasNote' id='sasLogNote_063d5bc4-b733-4ee5-9bdf-0be3a2b2817e'>      </div><div class='sasNote' id='sasLogNote_16a5febb-017a-46f3-9405-1af3413b261e'></div><div class='sasSource'>206  %corr_by_group(g=Combined);</div><div class='sasNote' id='sasLogNote_7605378a-3567-4dea-8b78-2fe1a9e76716'></div><div class='sasNote' id='sasLogNote_eaa5a3d3-091c-4fe9-b0b4-eae8f0968aca'>NOTE: The HISTOGRAM option within the PLOTS=MATRIX option is not applicable with the WITH statement.</div><div class='sasNote' id='sasLogNote_9d2c659f-05c4-48d0-aa56-964f28ce197b'>NOTE: No observations were selected from data set WORK.COMBINED_NUMERIC.</div><div class='sasNote' id='sasLogNote_fde06a45-c344-422f-b5cf-9750dcb4f350'>NOTE: PROCEDURE CORR used (Total process time):</div><div class='sasNote' id='sasLogNote_391e5071-a430-48c6-afb2-0568ea11a266'>      real time           0.00 seconds</div><div class='sasNote' id='sasLogNote_8c55634c-cae5-4a86-99e7-20f53019ac6f'>      cpu time            0.00 seconds</div><div class='sasNote' id='sasLogNote_a67623d6-2435-460d-8d05-97f2de9950aa'>      </div><div class='sasNote' id='sasLogNote_2fc064a2-05f7-4fb2-818f-6a6e89ecb441'></div><div class='sasSource'>207  </div><div class='sasSource'>208  /* 3. Linear regression: Predict compliance_score (continuous) */</div><div class='sasSource'>209  /* Use diagnostics and VIF to check collinearity */</div><div class='sasSource'>210  %macro linreg_by_group(g=);</div><div class='sasSource'>211    title "Linear regression (compliance_score) - &amp;g";</div><div class='sasSource'>212    proc reg data=work.combined_numeric;</div><div class='sasSource'>213      where upcase(group)=upcase("&amp;g");</div><div class='sasSource'>214      model compliance_score = familiar safe confident effective rateinst signage_num witnessed_bin trained_bin control_bin</div><div class='sasSource'>214! places_bin / vif collin;</div><div class='sasSource'>215      /* output diagnostics if needed */</div><div class='sasSource'>216      output out=regdiag_&amp;g r=resid p=predicted;</div><div class='sasSource'>217    run;</div><div class='sasSource'>218    quit;</div><div class='sasSource'>219  %mend;</div><div class='sasSource'>220  </div><div class='sasSource'>221  %linreg_by_group(g=Staff);</div><div class='sasNote' id='sasLogNote_117d86b3-ffe0-41e6-8f79-7924f356e4d1'></div><div class='sasNote' id='sasLogNote_fcd7949a-973d-4aaf-85f5-0452176a8700'></div><div class='sasNote' id='sasLogNote_dc3edae1-6657-40b5-bbeb-562bd50bff7a'>NOTE: The data set WORK.REGDIAG_STAFF has 235 observations and 18 variables.</div><div class='sasNote' id='sasLogNote_a25a2331-d354-405c-817e-990e8eca06b1'>NOTE: The PROCEDURE REG printed pages 270-271.</div><div class='sasNote' id='sasLogNote_d4338195-5098-4c53-8e37-e6317df028b1'>NOTE: PROCEDURE REG used (Total process time):</div><div class='sasNote' id='sasLogNote_1bf9ccc5-5f37-4ab5-b4ab-6566425b0171'>      real time           0.85 seconds</div><div class='sasNote' id='sasLogNote_c838fe9c-291b-44f6-827e-78be9f05ab7f'>      cpu time            0.33 seconds</div><div class='sasNote' id='sasLogNote_b8872f03-a8c7-49a1-8a99-aa8d8364a127'>      </div><div class='sasNote' id='sasLogNote_0fe726ce-c3ce-4a7e-aab9-8e3e2f8eef2b'></div><div class='sasSource'>222  %linreg_by_group(g=Student);</div><div class='sasNote' id='sasLogNote_787f9c8d-f4c9-4cbf-b318-a0465b35368b'></div><div class='sasError' id='sasLogError_67d9c51b-7549-4829-a4be-48ff2be3b782'>ERROR: No valid observations are found.</div><div class='sasNote' id='sasLogNote_58aca319-4511-4a10-a8da-3259b2d4fe57'></div><div class='sasNote' id='sasLogNote_c36f5305-35e6-44e6-877d-7715217a015c'>NOTE: The data set WORK.REGDIAG_STUDENT has 0 observations and 18 variables.</div><div class='sasNote' id='sasLogNote_31405d3e-811f-417d-bf2e-936d71b7ca88'>NOTE: The PROCEDURE REG printed page 272.</div><div class='sasNote' id='sasLogNote_702c7a33-68a5-4380-86fe-f66253654e3c'>NOTE: PROCEDURE REG used (Total process time):</div><div class='sasNote' id='sasLogNote_be863e6c-3183-44b2-a417-13a67498d738'>      real time           0.01 seconds</div><div class='sasNote' id='sasLogNote_2892cfd4-2217-404b-af43-c12949a39ce2'>      cpu time            0.01 seconds</div><div class='sasNote' id='sasLogNote_25ab1461-0d93-4861-991a-5c6ced164810'>      </div><div class='sasNote' id='sasLogNote_3391dfe6-9773-464e-bda8-5049702f36b0'></div><div class='sasSource'>223  %linreg_by_group(g=Combined);</div><div class='sasNote' id='sasLogNote_475f9f54-9689-462e-8fff-28de5b9bc9eb'></div><div class='sasError' id='sasLogError_798b349f-8888-4048-9223-d35ec021ab80'>ERROR: No valid observations are found.</div><div class='sasNote' id='sasLogNote_37af1521-67af-4e9f-8960-3ad79378505b'></div><div class='sasNote' id='sasLogNote_6a3db35a-57d2-48ee-aec2-570b450163ea'>NOTE: The data set WORK.REGDIAG_COMBINED has 0 observations and 18 variables.</div><div class='sasNote' id='sasLogNote_8bf2bbfe-fa06-403b-8e5e-bd338daeefbc'>NOTE: The PROCEDURE REG printed page 273.</div><div class='sasNote' id='sasLogNote_9d70ecd0-5d55-41d7-bede-154e88c03fe0'>NOTE: PROCEDURE REG used (Total process time):</div><div class='sasNote' id='sasLogNote_b162578f-e797-4012-a8c7-9271849d8da8'>      real time           0.01 seconds</div><div class='sasNote' id='sasLogNote_c26177fc-73dd-4664-bfc4-9b34d92c27a1'>      cpu time            0.02 seconds</div><div class='sasNote' id='sasLogNote_5396f9d5-a06f-44e1-a3c2-6a0383e998ce'>      </div><div class='sasNote' id='sasLogNote_a49ccf0f-7767-40f2-b41b-20deef1f4d11'></div><div class='sasSource'>224  </div><div class='sasSource'>225  /* 4. Logistic regression: Predict compliance_bin (binary) */</div><div class='sasSource'>226  /* Include categorical predictors with CLASS statement */</div><div class='sasSource'>227  %macro logit_by_group(g=);</div><div class='sasSource'>228    title "Logistic regression (compliance_bin) - &amp;g";</div><div class='sasSource'>229    proc logistic data=work.combined_numeric desc;</div><div class='sasSource'>230      where upcase(group)=upcase("&amp;g");</div><div class='sasSource'>231      class jobtitle (ref='Technician') faculty / param=ref;</div><div class='sasSource'>232      model compliance_bin (event='1') = familiar safe confident effective rateinst signage_num witnessed_bin trained_bin</div><div class='sasSource'>232! control_bin places_bin</div><div class='sasSource'>233                                       jobtitle faculty / selection=stepwise slentry=0.15 slstay=0.15 lackfit ctable;</div><div class='sasSource'>234      /* Assess collinearity via correlations or use effect selection */</div><div class='sasSource'>235      ods select ParameterEstimates FitStatistics Association ROCPanel;</div><div class='sasSource'>236    run;</div><div class='sasSource'>237  %mend;</div><div class='sasSource'>238  </div><div class='sasSource'>239  %logit_by_group(g=Staff);</div><div class='sasNote' id='sasLogNote_e919cfa3-7784-4db6-8a9b-a5ccc4d26514'>NOTE: PROC LOGISTIC is modeling the probability that compliance_bin=1.</div><div class='sasNote' id='sasLogNote_f695180b-def0-41ae-9fb8-794d4babc936'>NOTE: Convergence criterion (GCONV=1E-8) satisfied in Step 0.</div><div class='sasWarning' id='sasLogWarning_ee64a10e-fce6-4488-8e86-234ad460c2ee'>WARNING: There is possibly a quasicomplete separation of data points in step 1. The maximum likelihood estimate may not exist.</div><div class='sasWarning' id='sasLogWarning_92408b4d-4e36-4a0c-a941-396e3c4aa5b4'>WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based on the last maximum likelihood </div><div class='sasWarning' id='sasLogWarning_e64de043-72c7-460e-adb9-377d6f93a265'>         iteration. Validity of the model fit is questionable.</div><div class='sasNote' id='sasLogNote_227cd195-15dc-4202-8e1d-c21536b8acb9'>NOTE: Convergence criterion (GCONV=1E-8) satisfied in Step 2.</div><div class='sasNote' id='sasLogNote_13ee8141-2a5d-4d16-bdbe-24eba9f0f1cc'>NOTE: LACKFIT is ignored since there is no explanatory variable in the model.</div><div class='sasWarning' id='sasLogWarning_b8b81e77-fe61-4569-905c-bb7d002590bd'>WARNING: Output 'ROCPanel' was not created.  Make sure that the output object name, label, or path is spelled correctly.  Also, </div><div class='sasWarning' id='sasLogWarning_c7183205-f16a-4cfb-82de-32a046ddac6d'>         verify that the appropriate procedure options are used to produce the requested output object.  For example, verify that </div><div class='sasWarning' id='sasLogWarning_bddb6742-83b8-478e-8c9d-2c605b1dcc8c'>         the NOPRINT option is not used.</div><div class='sasWarning' id='sasLogWarning_d5680bf0-63c2-4af9-87ad-519379c7785e'>WARNING: Output 'Association' was not created.  Make sure that the output object name, label, or path is spelled correctly.  Also, </div><div class='sasWarning' id='sasLogWarning_ac291fb5-afb0-497d-97ea-98b3dfa2ecfc'>         verify that the appropriate procedure options are used to produce the requested output object.  For example, verify that </div><div class='sasWarning' id='sasLogWarning_fa91d81f-1564-4b75-99ad-bf23c5ae3dfb'>         the NOPRINT option is not used.</div><div class='sasNote' id='sasLogNote_6e57d676-9ddd-4e24-a01d-bd06cf68bb1d'>NOTE: There were 235 observations read from the data set WORK.COMBINED_NUMERIC.</div><div class='sasNote' id='sasLogNote_57b4a089-6e68-410f-a144-596289155944'>      WHERE UPCASE(group)='STAFF';</div><div class='sasNote' id='sasLogNote_375c49e5-6e05-4fc0-9e38-807ae7c19dba'>NOTE: The PROCEDURE LOGISTIC printed page 274.</div><div class='sasNote' id='sasLogNote_e542afaf-402a-43cf-bee7-6646a89919ca'>NOTE: PROCEDURE LOGISTIC used (Total process time):</div><div class='sasNote' id='sasLogNote_b1758885-7bf9-408c-868a-b134c591efcb'>      real time           0.02 seconds</div><div class='sasNote' id='sasLogNote_c5603d25-538a-411c-95b6-e376c48938ce'>      cpu time            0.02 seconds</div><div class='sasNote' id='sasLogNote_b3cb6d9f-df45-43d3-84d5-bc793191628e'>      </div><div class='sasNote' id='sasLogNote_434f2e84-a2db-48d9-ab72-1b16a0b13b25'></div><div class='sasSource'>240  %logit_by_group(g=Student);</div><div class='sasNote' id='sasLogNote_f0376218-53d6-4ac0-82e3-fc47c721585a'>NOTE: No observations were selected from data set WORK.COMBINED_NUMERIC.</div><div class='sasNote' id='sasLogNote_42d74a95-c4b1-4bc5-b585-15d7cdada37b'>NOTE: There were 0 observations read from the data set WORK.COMBINED_NUMERIC.</div><div class='sasNote' id='sasLogNote_660360f1-642f-4c80-b18b-701b3e3125f3'>      WHERE UPCASE(group)='STUDENT';</div><div class='sasNote' id='sasLogNote_6ed96ffd-0c89-4eb7-affa-ee08ffcba5c6'>NOTE: PROCEDURE LOGISTIC used (Total process time):</div><div class='sasNote' id='sasLogNote_103e35e1-b408-433b-ae55-478af3f57a2c'>      real time           0.00 seconds</div><div class='sasNote' id='sasLogNote_33359652-14a7-4b90-a54f-d2fc44c5c0cc'>      cpu time            0.01 seconds</div><div class='sasNote' id='sasLogNote_306ee9b1-2914-4a41-8712-1167bf40118f'>      </div><div class='sasWarning' id='sasLogWarning_8c7cf498-823b-476c-bd83-03220d866aa5'>WARNING: Output 'ROCPanel' was not created.  Make sure that the output object name, label, or path is spelled correctly.  Also, </div><div class='sasWarning' id='sasLogWarning_1022b2da-2fcf-43fd-9162-40855bc8dca2'>         verify that the appropriate procedure options are used to produce the requested output object.  For example, verify that </div><div class='sasWarning' id='sasLogWarning_cf9fdc5b-ca0c-4e26-bc7b-1d39b912bf9b'>         the NOPRINT option is not used.</div><div class='sasWarning' id='sasLogWarning_6b59bed8-12af-4628-a7fc-3a9cdc4ce04a'>WARNING: Output 'Association' was not created.  Make sure that the output object name, label, or path is spelled correctly.  Also, </div><div class='sasWarning' id='sasLogWarning_519ff1a9-5d15-4209-badc-09d9e116b674'>         verify that the appropriate procedure options are used to produce the requested output object.  For example, verify that </div><div class='sasWarning' id='sasLogWarning_949a5be3-835a-440f-9d91-77d92614032d'>         the NOPRINT option is not used.</div><div class='sasWarning' id='sasLogWarning_614c2bdc-034b-41e1-8cfb-68a41d040416'>WARNING: Output 'FitStatistics' was not created.  Make sure that the output object name, label, or path is spelled correctly.  </div><div class='sasWarning' id='sasLogWarning_8b1ded47-c50c-4efd-a539-eab31d4ecc6d'>         Also, verify that the appropriate procedure options are used to produce the requested output object.  For example, verify </div><div class='sasWarning' id='sasLogWarning_671335d2-2bb1-4b65-a669-2b57e361fb85'>         that the NOPRINT option is not used.</div><div class='sasWarning' id='sasLogWarning_f6cf68ba-0ca4-4833-8ca3-c3471c5c09e5'>WARNING: Output 'ParameterEstimates' was not created.  Make sure that the output object name, label, or path is spelled correctly.  </div><div class='sasWarning' id='sasLogWarning_d2a85251-a927-4953-bca7-f6449a46f0c4'>         Also, verify that the appropriate procedure options are used to produce the requested output object.  For example, verify </div><div class='sasWarning' id='sasLogWarning_23a2508a-12ff-4ef2-851e-dff49c0937d0'>         that the NOPRINT option is not used.</div><div class='sasNote' id='sasLogNote_f147f566-1795-4c98-b0e7-99c23fe49e03'></div><div class='sasSource'>241  %logit_by_group(g=Combined);</div><div class='sasNote' id='sasLogNote_6367a2b4-6ac3-4835-96b1-14b4170399df'>NOTE: No observations were selected from data set WORK.COMBINED_NUMERIC.</div><div class='sasNote' id='sasLogNote_2815e816-fcf0-48d7-abc0-081df1f9c536'>NOTE: There were 0 observations read from the data set WORK.COMBINED_NUMERIC.</div><div class='sasNote' id='sasLogNote_f44e73a5-18e8-4b07-9741-fc34c7f8b036'>      WHERE UPCASE(group)='COMBINED';</div><div class='sasNote' id='sasLogNote_28c61c0f-4481-4324-9631-29860df92074'>NOTE: PROCEDURE LOGISTIC used (Total process time):</div><div class='sasNote' id='sasLogNote_c6af6fad-0111-4f4e-aea4-201d82f3b08f'>      real time           0.00 seconds</div><div class='sasNote' id='sasLogNote_c0098f2d-d67e-4389-9ddf-0fb8a167597a'>      cpu time            0.00 seconds</div><div class='sasNote' id='sasLogNote_8d98b411-9a73-44f7-98d0-5041585fa7f8'>      </div><div class='sasWarning' id='sasLogWarning_b82daaa7-33c4-4d35-8f1c-c4cac9b584eb'>WARNING: Output 'ROCPanel' was not created.  Make sure that the output object name, label, or path is spelled correctly.  Also, </div><div class='sasWarning' id='sasLogWarning_2716a50c-ffe7-4f98-b1ea-5b0f25675ad0'>         verify that the appropriate procedure options are used to produce the requested output object.  For example, verify that </div><div class='sasWarning' id='sasLogWarning_2a9d0935-c1aa-4c6b-ad4a-f56703f905f5'>         the NOPRINT option is not used.</div><div class='sasWarning' id='sasLogWarning_539a6010-ecce-4c69-8e69-ca486b6332e7'>WARNING: Output 'Association' was not created.  Make sure that the output object name, label, or path is spelled correctly.  Also, </div><div class='sasWarning' id='sasLogWarning_bb75ee9b-4085-439e-b655-7330ee466c13'>         verify that the appropriate procedure options are used to produce the requested output object.  For example, verify that </div><div class='sasWarning' id='sasLogWarning_9ecf1b31-b153-4a13-bf28-018b2a82ea09'>         the NOPRINT option is not used.</div><div class='sasWarning' id='sasLogWarning_cbc3f424-a5be-4101-9eef-9598daf1aa3e'>WARNING: Output 'FitStatistics' was not created.  Make sure that the output object name, label, or path is spelled correctly.  </div><div class='sasWarning' id='sasLogWarning_64dd65d1-ce52-4558-917b-06ca1111120e'>         Also, verify that the appropriate procedure options are used to produce the requested output object.  For example, verify </div><div class='sasWarning' id='sasLogWarning_255e7c69-2cc5-48e6-b540-51593a4092e8'>         that the NOPRINT option is not used.</div><div class='sasWarning' id='sasLogWarning_5bcec09b-662a-4a4d-b8d7-bf3975171277'>WARNING: Output 'ParameterEstimates' was not created.  Make sure that the output object name, label, or path is spelled correctly.  </div><div class='sasWarning' id='sasLogWarning_ae3bd5b6-db46-4d8e-9cd6-0762a9efa91d'>         Also, verify that the appropriate procedure options are used to produce the requested output object.  For example, verify </div><div class='sasWarning' id='sasLogWarning_98e23162-7a61-4d34-89c2-8945947acab6'>         that the NOPRINT option is not used.</div><div class='sasNote' id='sasLogNote_25ef1672-3ca6-4875-8c3f-38c5b674dd5f'></div><div class='sasSource'>242  </div><div class='sasSource'>243  /* 5. Factor analysis on perception items (exploratory) */</div><div class='sasSource'>244  /* Use principal axis / maximum likelihood and varimax rotation */</div><div class='sasSource'>245  proc factor data=work.combined_numeric n=3 priors=smc rotate=varimax plots=scree;</div><div class='sasSource'>246    var familiar safe confident effective rateinst signage_num;</div><div class='sasSource'>247    title "Exploratory Factor Analysis - Perception Items (combined sample)";</div><div class='sasSource'>248  run;</div><div class='sasNote' id='sasLogNote_0c8511e4-954d-4862-b268-cb165f2bdc53'></div><div class='sasWarning' id='sasLogWarning_f74fd96a-0c1c-4b59-9b8c-5b911df3a023'>WARNING: 381 of 607 observations in data set WORK.COMBINED_NUMERIC omitted due to missing values.</div><div class='sasNote' id='sasLogNote_a21f40a5-d99d-4c64-b3cd-6b42b66dec08'>NOTE: 3 factors will be retained by the NFACTOR criterion.</div><div class='sasNote' id='sasLogNote_18fe4ced-b935-400b-bf09-65c72b539918'>NOTE: Rotation converged.  Criterion changed from 6.730139 to 13.502921 in 5 cycles.</div><div class='sasNote' id='sasLogNote_c050437b-fb75-4987-b75e-ca912b38a57a'>NOTE: The PROCEDURE FACTOR printed pages 275-277.</div><div class='sasNote' id='sasLogNote_e37c56d1-eddb-412e-a0f2-afda9bd8b923'>NOTE: PROCEDURE FACTOR used (Total process time):</div><div class='sasNote' id='sasLogNote_911025bf-3238-4f8c-b6a5-5af433465e53'>      real time           0.14 seconds</div><div class='sasNote' id='sasLogNote_2566ed34-5136-4f0f-8179-12f6bb534d1e'>      cpu time            0.08 seconds</div><div class='sasNote' id='sasLogNote_b4d648c2-7f7f-411e-b364-bbdbc3a53e27'>      </div><div class='sasNote' id='sasLogNote_b6833b88-d846-42a8-afd2-28a4bfa4ea9e'></div><div class='sasSource'>249  </div><div class='sasSource'>250  /* Repeat factor analysis by group if desired */</div><div class='sasSource'>251  proc factor data=work.combined_numeric(where=(group='Staff')) n=3 priors=smc rotate=varimax;</div><div class='sasSource'>252    var familiar safe confident effective rateinst signage_num;</div><div class='sasSource'>253    title "Exploratory Factor Analysis - Staff only";</div><div class='sasSource'>254  run;</div><div class='sasNote' id='sasLogNote_00239226-c634-469b-9b5e-720ce6df9c76'></div><div class='sasWarning' id='sasLogWarning_403f18b7-98ac-48a0-942e-6e6c7d607eeb'>WARNING: 9 of 235 observations in data set WORK.COMBINED_NUMERIC omitted due to missing values.</div><div class='sasNote' id='sasLogNote_9793d72d-46e5-4423-8ffc-c4a890037385'>NOTE: 3 factors will be retained by the NFACTOR criterion.</div><div class='sasNote' id='sasLogNote_8ce7e69f-89a6-4d6b-85f8-b0d844ad5371'>NOTE: Rotation converged.  Criterion changed from 6.730139 to 13.502921 in 5 cycles.</div><div class='sasNote' id='sasLogNote_e83f6f3b-029d-4412-8688-fed4c3bd647a'>NOTE: The PROCEDURE FACTOR printed pages 278-280.</div><div class='sasNote' id='sasLogNote_6964a0b3-743e-47fd-9b61-5f1e504fdd98'>NOTE: PROCEDURE FACTOR used (Total process time):</div><div class='sasNote' id='sasLogNote_08c34898-b42c-419b-b8ae-8da7a065ba09'>      real time           0.04 seconds</div><div class='sasNote' id='sasLogNote_7c412b42-97c5-46b1-b16b-e249c21731a9'>      cpu time            0.05 seconds</div><div class='sasNote' id='sasLogNote_4dd65e17-cfd7-43d3-abfb-be70c8cc24a9'>      </div><div class='sasNote' id='sasLogNote_9fa9e196-85a8-49f8-b112-c10829203369'></div><div class='sasSource'>255  </div><div class='sasSource'>256  proc factor data=work.combined_numeric(where=(group='Student')) n=3 priors=smc rotate=varimax;</div><div class='sasSource'>257    var familiar safe confident effective rateinst signage_num;</div><div class='sasSource'>258    title "Exploratory Factor Analysis - Students only";</div><div class='sasSource'>259  run;</div><div class='sasNote' id='sasLogNote_99659fe9-2e40-446f-acd9-2f3c76a55d1a'></div><div class='sasNote' id='sasLogNote_40243ca6-900a-424f-b784-20a480491d3c'>NOTE: No observations were selected from data set WORK.COMBINED_NUMERIC.</div><div class='sasNote' id='sasLogNote_8e3b8d17-213b-47af-97ad-719eafd46d44'>NOTE: PROCEDURE FACTOR used (Total process time):</div><div class='sasNote' id='sasLogNote_4623736c-885d-4d21-95d4-07c88f41cb75'>      real time           0.00 seconds</div><div class='sasNote' id='sasLogNote_7d2d912e-ce17-4a99-aec0-a3a73a2158a1'>      cpu time            0.00 seconds</div><div class='sasNote' id='sasLogNote_ed0f9484-eb7b-44ab-a008-c219fcc037b5'>      </div><div class='sasNote' id='sasLogNote_c0a1e121-ceeb-469f-b1f6-632615f1a0a5'></div><div class='sasSource'>260  </div><div class='sasSource'>261  /* 6. Optional: create factor scores and use them in regression/logistic models */</div><div class='sasSource'>262  /* Example: use PROC FACTOR OUTSTAT for scoring, or use PROC SCORE/PRINCOMP */</div><div class='sasSource'>263  /* Here is an example using PROC PRINCOMP to derive components and then use them */</div><div class='sasSource'>264  </div><div class='sasSource'>265  proc princomp data=work.combined_numeric out=pc_scores;</div><div class='sasSource'>266    var familiar safe confident effective rateinst signage_num;</div><div class='sasSource'>267    title "PCA (for deriving component scores)";</div><div class='sasSource'>268  run;</div><div class='sasNote' id='sasLogNote_dc85ed34-327e-4d7e-a8ce-6341604b5d53'></div><div class='sasWarning' id='sasLogWarning_b62c5c42-5e7f-4ffa-802e-a22ebbb0195c'>WARNING: 381 of 607 observations in data set WORK.COMBINED_NUMERIC omitted due to missing values.</div><div class='sasNote' id='sasLogNote_0f189c0e-5471-4a63-bd7c-5285984b0aad'>NOTE: The data set WORK.PC_SCORES has 607 observations and 22 variables.</div><div class='sasNote' id='sasLogNote_9c595512-8e33-447f-ac88-f8f5472988ae'>NOTE: The PROCEDURE PRINCOMP printed page 281.</div><div class='sasNote' id='sasLogNote_1acf89b5-d4a4-45c5-bf58-1591f1797b9b'>NOTE: PROCEDURE PRINCOMP used (Total process time):</div><div class='sasNote' id='sasLogNote_34d8890e-d54f-4a06-bf50-029cd3be9965'>      real time           0.11 seconds</div><div class='sasNote' id='sasLogNote_990a2941-bdb6-44ee-8bbc-c06ef57c72b2'>      cpu time            0.07 seconds</div><div class='sasNote' id='sasLogNote_d67c5c75-df54-4307-a5c8-69aa1dade8b9'>      </div><div class='sasNote' id='sasLogNote_3c11b476-648e-48d7-abc1-2e9309f6371e'></div><div class='sasSource'>269  </div><div class='sasSource'>270  proc print data=pc_scores(obs=10);</div><div class='sasSource'>271    var Prin1 Prin2 Prin3 group compliance_score compliance_bin;</div><div class='sasSource'>272  run;</div><div class='sasNote' id='sasLogNote_a22e6e5a-ebd7-4142-a6f2-083bdc81ac10'></div><div class='sasNote' id='sasLogNote_1694f5ea-c2cd-4fd8-8dec-15901f16a8a9'>NOTE: There were 10 observations read from the data set WORK.PC_SCORES.</div><div class='sasNote' id='sasLogNote_0c72f7e9-2188-4d19-afff-f1b19efc603e'>NOTE: The PROCEDURE PRINT printed page 282.</div><div class='sasNote' id='sasLogNote_c293c21c-6d36-4def-8c3e-4a67ca4337d9'>NOTE: PROCEDURE PRINT used (Total process time):</div><div class='sasNote' id='sasLogNote_ba1b7535-affc-4367-9c89-91e9d0577865'>      real time           0.01 seconds</div><div class='sasNote' id='sasLogNote_310c852b-20f2-4c2a-a185-fac3c41355d7'>      cpu time            0.01 seconds</div><div class='sasNote' id='sasLogNote_4fddca5d-1aa5-43b1-ad2a-2ce6450bc373'>      </div><div class='sasNote' id='sasLogNote_5a92925c-62e5-4b0d-ae5e-949d72781f3d'></div><div class='sasSource'>273  </div><div class='sasSource'>274  /* Use first principal component as composite perception score in logistic regression */</div><div class='sasSource'>275  proc logistic data=pc_scores desc;</div><div class='sasSource'>276    where not missing(compliance_bin);</div><div class='sasSource'>277    class jobtitle faculty / param=ref;</div><div class='sasSource'>278    model compliance_bin(event='1') = Prin1 Prin2 trained_bin control_bin witnessed_bin places_bin / ctable rsquare;</div><div class='sasSource'>279    title "Logistic with PCA-derived predictors";</div><div class='sasSource'>280  run;</div><div class='sasNote' id='sasLogNote_4661a9a6-359c-4ac2-9ea0-beb823e30514'></div><div class='sasNote' id='sasLogNote_8f503ea1-a7ae-47c5-8d1d-197297ddd2f9'>NOTE: PROC LOGISTIC is modeling the probability that compliance_bin=1.</div><div class='sasWarning' id='sasLogWarning_0e203064-cbbe-4535-ad35-2044f8923980'>WARNING: There is a complete separation of data points. The maximum likelihood estimate does not exist.</div><div class='sasWarning' id='sasLogWarning_0f2f5d18-cc99-4dfc-9a45-1f5200215c0c'>WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based on the last maximum likelihood </div><div class='sasWarning' id='sasLogWarning_282c3570-b138-4e13-a39a-c0d3cef1aab0'>         iteration. Validity of the model fit is questionable.</div><div class='sasNote' id='sasLogNote_a7189025-27ff-4c23-a82c-b835cbd1732e'>NOTE: There were 235 observations read from the data set WORK.PC_SCORES.</div><div class='sasNote' id='sasLogNote_697cfedb-a02f-4c02-82cb-705b5e299fba'>      WHERE not MISSING(compliance_bin);</div><div class='sasNote' id='sasLogNote_9f524f73-42d7-44f8-8875-23211cbb80d5'>NOTE: The PROCEDURE LOGISTIC printed pages 283-285.</div><div class='sasNote' id='sasLogNote_dfbe1e47-644f-428a-9884-eebabf89e874'>NOTE: PROCEDURE LOGISTIC used (Total process time):</div><div class='sasNote' id='sasLogNote_7cfa5a90-0d7b-45f6-a270-1aa3c77e6acd'>      real time           0.08 seconds</div><div class='sasNote' id='sasLogNote_11254ba4-8a37-47c1-b8dd-95635da6d2bf'>      cpu time            0.08 seconds</div><div class='sasNote' id='sasLogNote_81fef9d5-0361-44cb-b6bc-87dfba275ef6'>      </div><div class='sasNote' id='sasLogNote_780582ee-d495-46d6-b176-7ac00240b21b'></div><div class='sasSource'>281  </div><div class='sasSource'>282  /* 7. Diagnostics &amp; model checking recommendations (not code outputs):</div><div class='sasSource'>283     - Check VIF from PROC REG to detect multicollinearity.</div><div class='sasSource'>284     - Check residuals (regdiag dataset) for heteroscedasticity/outliers.</div><div class='sasSource'>285     - For logistic: check Hosmer-Lemeshow (lackfit) and ROC/AUC.</div><div class='sasSource'>286     - If observations per category are very small, consider combining rare faculty categories.</div><div class='sasSource'>287  */</div><div class='sasSource'>288  </div><div class='sasSource'>289  /* End */</div><div class='sasSource'>290  /************************************************************************</div><div class='sasSource'>291   Predictive / Explanatory analysis for compliance</div><div class='sasSource'>292   - Correlation, Linear regression, Logistic regression, Factor analysis</div><div class='sasSource'>293   - Runs per group: Staff, Student, Combined</div><div class='sasSource'>294   Assumes datasets:</div><div class='sasSource'>295     WORK.STAFF_CLEAN  (staff)</div><div class='sasSource'>296     WORK.STUDENTS_CLEAN (students)</div><div class='sasSource'>297     or WORK.COMBINED already exists</div><div class='sasSource'>298  ************************************************************************/</div><div class='sasSource'>299  </div><div class='sasSource'>300  /* 0. Ensure combined dataset exists (create if needed) */</div><div class='sasSource'>301  data work.combined;</div><div class='sasSource'>302    set</div><div class='sasSource'>303      work.staff_clean (in=_s)</div><div class='sasSource'>304      work.students_clean (in=_u);</div><div class='sasSource'>305    if _s then group = 'Staff';</div><div class='sasSource'>306    else if _u then group = 'Student';</div><div class='sasSource'>307  run;</div><div class='sasNote' id='sasLogNote_6d9bfb6d-f272-406b-8903-c44b1613f29b'></div><div class='sasNote' id='sasLogNote_317c89fe-5775-47fa-9aba-0f52147d15e2'>NOTE: There were 235 observations read from the data set WORK.STAFF_CLEAN.</div><div class='sasNote' id='sasLogNote_81c69fa9-47dc-4ee0-beb9-9d99fecdef8a'>NOTE: There were 372 observations read from the data set WORK.STUDENTS_CLEAN.</div><div class='sasNote' id='sasLogNote_2b13c923-e9c8-43a7-8489-2fb463aa75e4'>NOTE: The data set WORK.COMBINED has 607 observations and 34 variables.</div><div class='sasNote' id='sasLogNote_a4f1c765-b05b-4325-b55d-eebcc166b669'>NOTE: DATA statement used (Total process time):</div><div class='sasNote' id='sasLogNote_6558a0b1-3af4-4a32-824a-6542d554a8d3'>      real time           0.00 seconds</div><div class='sasNote' id='sasLogNote_dfd3a6b7-ba2c-4cda-aebc-12bb957e17b0'>      cpu time            0.01 seconds</div><div class='sasNote' id='sasLogNote_8e8429d4-ea8f-40c4-84dd-e0b491bf2a9e'>      </div><div class='sasNote' id='sasLogNote_e1e85976-b111-4bcb-9335-e9d3effe01b7'></div><div class='sasSource'>308  </div><div class='sasSource'>309  /* 1. Create numeric indicators and composite compliance variables */</div><div class='sasSource'>310  /* Adjust text-match rules below if your raw values differ */</div><div class='sasSource'>311  data work.combined_numeric;</div><div class='sasSource'>312    set work.combined;</div><div class='sasSource'>313  </div><div class='sasSource'>314    /* standardize text */</div><div class='sasSource'>315    array charvars{*} faculty jobtitle signage aspect conduct witnessed informed trained places control emergency biggest;</div><div class='sasSource'>316    do i=1 to dim(charvars);</div><div class='sasSource'>317      if vtype(charvars[i])='C' and charvars[i] ne '' then charvars[i]=strip(charvars[i]);</div><div class='sasSource'>318    end;</div><div class='sasSource'>319    drop i;</div><div class='sasSource'>320  </div><div class='sasSource'>321    /* Binary indicators (1 = positive/yes/observed, 0 = otherwise) */</div><div class='sasSource'>322    /* Trained: 'Yes' -&gt;1 ; 'Partially' -&gt; .5 (if you'd prefer) ; else 0 */</div><div class='sasSource'>323    trained_up = upcase(strip(trained));</div><div class='sasSource'>324    if trained_up =: 'YES' then trained_bin = 1;</div><div class='sasSource'>325    else if trained_up =: 'PARTI' then trained_bin = 0.5;</div><div class='sasSource'>326    else if trained_up =: 'PAR' then trained_bin = 0.5;</div><div class='sasSource'>327    else if trained_up =: 'NO' then trained_bin = 0;</div><div class='sasSource'>328    else trained_bin = .;</div><div class='sasSource'>329  </div><div class='sasSource'>330    /* Control measures present */</div><div class='sasSource'>331    control_up = upcase(strip(control));</div><div class='sasSource'>332    if control_up =: 'YES' then control_bin = 1;</div><div class='sasSource'>333    else if control_up =: 'NO' then control_bin = 0;</div><div class='sasSource'>334    else control_bin = .;</div><div class='sasSource'>335  </div><div class='sasSource'>336    /* Specific risky places indicated */</div><div class='sasSource'>337    places_up = upcase(strip(places));</div><div class='sasSource'>338    if places_up =: 'YES' then places_bin = 1;</div><div class='sasSource'>339    else if places_up =: 'NO' then places_bin = 0;</div><div class='sasSource'>340    else places_bin = .;</div><div class='sasSource'>341  </div><div class='sasSource'>342    /* Emergency equipment present */</div><div class='sasSource'>343    emergency_up = upcase(strip(emergency));</div><div class='sasSource'>344    if emergency_up =: 'YES' then emergency_bin = 1;</div><div class='sasSource'>345    else if emergency_up =: 'NOT S' or emergency_up =: 'NOT' then emergency_bin = 0; /* Not sure treated 0 */</div><div class='sasSource'>346    else if emergency_up =: 'NO' then emergency_bin = 0;</div><div class='sasSource'>347    else emergency_bin = .;</div><div class='sasSource'>348  </div><div class='sasSource'>349    /* Witnessed an incident */</div><div class='sasSource'>350    witnessed_up = upcase(strip(witnessed));</div><div class='sasSource'>351    if witnessed_up =: 'YES' then witnessed_bin = 1;</div><div class='sasSource'>352    else if witnessed_up =: 'NO' then witnessed_bin = 0;</div><div class='sasSource'>353    else witnessed_bin = .;</div><div class='sasSource'>354  </div><div class='sasSource'>355    /* signage frequency - convert to ordered numeric where possible */</div><div class='sasSource'>356    signage_up = upcase(strip(signage));</div><div class='sasSource'>357    if signage_up =: 'NEVER' then signage_num = 1;</div><div class='sasSource'>358    else if signage_up =: 'RARE' then signage_num = 2;</div><div class='sasSource'>359    else if signage_up =: 'WEEK' then signage_num = 3;</div><div class='sasSource'>360    else if signage_up =: 'EVERY' and index(signage_up,'DAY') then signage_num = 4;</div><div class='sasSource'>361    else if signage_up =: 'EVERY HOUR' or index(signage_up,'HOUR') then signage_num = 5;</div><div class='sasSource'>362    else signage_num = .;</div><div class='sasSource'>363  </div><div class='sasSource'>364    /* Numeric perception items (assumes these exist and already numeric) */</div><div class='sasSource'>365    /* familiar safe confident effective rateinst  should be numeric already */</div><div class='sasSource'>366    /* if character, convert attempts: */</div><div class='sasSource'>367    array perc_vars{*} familiar safe confident effective rateinst;</div><div class='sasSource'>368    do j=1 to dim(perc_vars);</div><div class='sasSource'>369      if vtype(perc_vars[j])='C' then do;</div><div class='sasSource'>370        /* attempt numeric covert */</div><div class='sasSource'>371        perc_tmp = input(strip(perc_vars[j]), best12.);</div><div class='sasSource'>372        if not missing(perc_tmp) then perc_vars[j] = perc_tmp;</div><div class='sasSource'>373        else perc_vars[j] = .;</div><div class='sasSource'>374      end;</div><div class='sasSource'>375    end;</div><div class='sasSource'>376    drop j perc_tmp;</div><div class='sasSource'>377  </div><div class='sasSource'>378    /* Composite compliance score: sum of key binary indicators (0-4)</div><div class='sasSource'>379       treat 0.5 partial as 0.5 contribution */</div><div class='sasSource'>380    compliance_score = sum(trained_bin, control_bin, places_bin, emergency_bin); /* note sum ignores missing */</div><div class='sasSource'>381    /* Binary compliance: define compliant if score &gt;= 2 (adjust threshold as needed) */</div><div class='sasSource'>382    if not missing(compliance_score) then compliance_bin = (compliance_score &gt;= 2);</div><div class='sasSource'>383    else compliance_bin = .;</div><div class='sasSource'>384  </div><div class='sasSource'>385    /* Keep useful variables */</div><div class='sasSource'>386    keep faculty jobtitle group familiar safe confident effective rateinst</div><div class='sasSource'>387         trained_bin control_bin places_bin emergency_bin witnessed_bin signage_num</div><div class='sasSource'>388         compliance_score compliance_bin;</div><div class='sasSource'>389  run;</div><div class='sasNote' id='sasLogNote_09316471-7501-4521-acf0-87bdc21bb9fc'></div><div class='sasNote' id='sasLogNote_2a3ce87b-05ad-4d9f-bc79-7cc583818434'>NOTE: Numeric values have been converted to character values at the places given by: (Line):(Column).</div><div class='sasNote' id='sasLogNote_8ab99b62-f627-43ab-ab43-77693a51ca6a'>      371:30   </div><div class='sasNote' id='sasLogNote_efba7704-4eba-4c4e-9e67-0c94be1ee554'>NOTE: Missing values were generated as a result of performing an operation on missing values.</div><div class='sasNote' id='sasLogNote_213581d6-bad6-4d27-a0fe-3ec507b4ca8c'>      Each place is given by: (Number of times) at (Line):(Column).</div><div class='sasNote' id='sasLogNote_1b0e43a5-8cd4-4e37-9cfe-45d8104f0961'>      372 at 380:22   </div><div class='sasNote' id='sasLogNote_030c1ce2-7626-4a3c-9501-e2653f0c79ab'>NOTE: There were 607 observations read from the data set WORK.COMBINED.</div><div class='sasNote' id='sasLogNote_e2315555-c0ea-4df8-9954-05e61baf1e1e'>NOTE: The data set WORK.COMBINED_NUMERIC has 607 observations and 16 variables.</div><div class='sasNote' id='sasLogNote_7c034714-5f3e-4832-9211-d88d2cacf09b'>NOTE: DATA statement used (Total process time):</div><div class='sasNote' id='sasLogNote_77e41364-0034-49eb-b596-64ec5d1aa814'>      real time           0.00 seconds</div><div class='sasNote' id='sasLogNote_6391d623-9f00-43e6-894e-3581914f15dd'>      cpu time            0.00 seconds</div><div class='sasNote' id='sasLogNote_2e161c44-6391-4ead-ad7e-543e5991989b'>      </div><div class='sasNote' id='sasLogNote_5250a557-f05a-4385-89cf-92d66887eccd'></div><div class='sasSource'>390  </div><div class='sasSource'>391  /* Quick peek to confirm new variables are OK */</div><div class='sasSource'>392  proc freq data=work.combined_numeric;</div><div class='sasSource'>393    tables group*compliance_bin trained_bin control_bin places_bin emergency_bin signage_num / norow nocol nopercent;</div><div class='sasSource'>394  run;</div><div class='sasNote' id='sasLogNote_177ecb7d-d4e5-469d-8523-79d6d3980bc8'></div><div class='sasNote' id='sasLogNote_dd48dc77-d653-46b5-a1b3-f4c37fd6917d'>NOTE: There were 607 observations read from the data set WORK.COMBINED_NUMERIC.</div><div class='sasNote' id='sasLogNote_2067f39b-e2d6-4202-a697-4a7d4a0cb197'>NOTE: The PROCEDURE FREQ printed pages 286-287.</div><div class='sasNote' id='sasLogNote_6d896f30-9a5a-4674-b6a2-ffb09730b385'>NOTE: PROCEDURE FREQ used (Total process time):</div><div class='sasNote' id='sasLogNote_9b778b33-6b34-4db2-9407-a3f897ce9e6a'>      real time           0.02 seconds</div><div class='sasNote' id='sasLogNote_81226724-7672-4063-8b48-848a519c6bf4'>      cpu time            0.03 seconds</div><div class='sasNote' id='sasLogNote_569d7731-ae73-4a59-8aae-437e7ab3d539'>      </div><div class='sasNote' id='sasLogNote_05db6008-2110-4063-a219-ede123e1ee2e'></div><div class='sasSource'>395  </div><div class='sasSource'>396  proc means data=work.combined_numeric n mean std min max nmiss;</div><div class='sasSource'>397    class group;</div><div class='sasSource'>398    var compliance_score familiar safe confident effective rateinst signage_num;</div><div class='sasSource'>399  run;</div><div class='sasNote' id='sasLogNote_dc657752-56e9-47b9-b8f4-3a7d615913fa'></div><div class='sasNote' id='sasLogNote_f1f71aca-be9c-42e9-ba12-e1a3937942e3'>NOTE: There were 607 observations read from the data set WORK.COMBINED_NUMERIC.</div><div class='sasNote' id='sasLogNote_6e28b546-ee6d-45c9-b355-f674b3b7b79d'>NOTE: The PROCEDURE MEANS printed page 288.</div><div class='sasNote' id='sasLogNote_03aef0e5-56f3-4bb8-aa63-05827d76fe0b'>NOTE: PROCEDURE MEANS used (Total process time):</div><div class='sasNote' id='sasLogNote_1aaeff86-8237-4353-becc-124bb9c98ee9'>      real time           0.02 seconds</div><div class='sasNote' id='sasLogNote_87f445c8-ec1c-4a5d-ac58-eb7c7d226941'>      cpu time            0.03 seconds</div><div class='sasNote' id='sasLogNote_8aa091e3-16eb-44ec-829b-d01233fce52c'>      </div><div class='sasNote' id='sasLogNote_5fe1c76d-a821-4192-9092-aea19b9bc2a5'></div><div class='sasSource'>400  </div><div class='sasSource'>401  /* 2. Correlations (Pearson) for perception variables and compliance score */</div><div class='sasSource'>402  %macro corr_by_group(g=);</div><div class='sasSource'>403    title "PROC CORR: Correlations - &amp;g";</div><div class='sasSource'>404    proc corr data=work.combined_numeric nosimple pearson plots=matrix(histogram);</div><div class='sasSource'>405      where upcase(group)=upcase("&amp;g");</div><div class='sasSource'>406      var familiar safe confident effective rateinst signage_num compliance_score;</div><div class='sasSource'>407      with compliance_score;</div><div class='sasSource'>408    run;</div><div class='sasSource'>409  %mend;</div><div class='sasSource'>410  </div><div class='sasSource'>411  %corr_by_group(g=Staff);</div><div class='sasNote' id='sasLogNote_18ff6cd0-30c4-4d77-a5cf-2737269139ad'></div><div class='sasNote' id='sasLogNote_38232c22-b204-4b5b-bde1-66766fffa2dc'>NOTE: The HISTOGRAM option within the PLOTS=MATRIX option is not applicable with the WITH statement.</div><div class='sasNote' id='sasLogNote_b4f15ec7-04c6-4663-b166-e7fdf66bdd02'>NOTE: The PROCEDURE CORR printed page 289.</div><div class='sasNote' id='sasLogNote_75500e7c-79dc-4cae-864f-fb44c21ce415'>NOTE: PROCEDURE CORR used (Total process time):</div><div class='sasNote' id='sasLogNote_86eceb39-9939-4c61-a361-0d7c602f0a2c'>      real time           0.26 seconds</div><div class='sasNote' id='sasLogNote_7f28d4d9-a331-4bed-a7d0-b0e8b23eeb19'>      cpu time            0.05 seconds</div><div class='sasNote' id='sasLogNote_c4f42b7f-e137-4f99-80b9-0a6b448000cd'>      </div><div class='sasNote' id='sasLogNote_788451b7-0fcf-4cee-aefe-411b9cbbb06c'></div><div class='sasSource'>412  %corr_by_group(g=Student);</div><div class='sasNote' id='sasLogNote_86551165-b574-4069-92d2-53624f5a50d5'></div><div class='sasNote' id='sasLogNote_ad21c12f-a90c-4396-98c5-58d6ba13d8a2'>NOTE: The HISTOGRAM option within the PLOTS=MATRIX option is not applicable with the WITH statement.</div><div class='sasNote' id='sasLogNote_debe4840-3b85-4741-8464-3af348c80026'>NOTE: No observations were selected from data set WORK.COMBINED_NUMERIC.</div><div class='sasNote' id='sasLogNote_f4c305dc-a732-4c7d-bdb5-f6c3441194fd'>NOTE: PROCEDURE CORR used (Total process time):</div><div class='sasNote' id='sasLogNote_aa3af304-ec0f-4b03-bb75-f5e0adb95c0e'>      real time           0.00 seconds</div><div class='sasNote' id='sasLogNote_2ce2aeda-8389-4a53-9588-65646b8b5aae'>      cpu time            0.00 seconds</div><div class='sasNote' id='sasLogNote_07d69418-037e-4e2b-9421-a4548f364d92'>      </div><div class='sasNote' id='sasLogNote_2fc467ce-26fa-4ecf-813b-581db9a2210b'></div><div class='sasSource'>413  %corr_by_group(g=Combined);</div><div class='sasNote' id='sasLogNote_442a63c7-2a8a-4e3f-9877-b82e64926e34'></div><div class='sasNote' id='sasLogNote_5d369078-dd04-499c-9850-c4333f3bff53'>NOTE: The HISTOGRAM option within the PLOTS=MATRIX option is not applicable with the WITH statement.</div><div class='sasNote' id='sasLogNote_ba4c1fec-cf9e-4614-a7b9-9f6e5d95202f'>NOTE: No observations were selected from data set WORK.COMBINED_NUMERIC.</div><div class='sasNote' id='sasLogNote_9dade881-d383-483d-bfba-ff35acf02710'>NOTE: PROCEDURE CORR used (Total process time):</div><div class='sasNote' id='sasLogNote_0f7c2c1a-8e9e-41b6-a56c-d8913c0ddb9c'>      real time           0.00 seconds</div><div class='sasNote' id='sasLogNote_1d3a0444-49e2-4102-9e91-8f1987373966'>      cpu time            0.00 seconds</div><div class='sasNote' id='sasLogNote_d37b2474-5343-4e89-8c36-e28a3ad53822'>      </div><div class='sasNote' id='sasLogNote_63c4e99f-f26b-456f-b114-36f8c2d13475'></div><div class='sasSource'>414  </div><div class='sasSource'>415  /* 3. Linear regression: Predict compliance_score (continuous) */</div><div class='sasSource'>416  /* Use diagnostics and VIF to check collinearity */</div><div class='sasSource'>417  %macro linreg_by_group(g=);</div><div class='sasSource'>418    title "Linear regression (compliance_score) - &amp;g";</div><div class='sasSource'>419    proc reg data=work.combined_numeric;</div><div class='sasSource'>420      where upcase(group)=upcase("&amp;g");</div><div class='sasSource'>421      model compliance_score = familiar safe confident effective rateinst signage_num witnessed_bin trained_bin control_bin</div><div class='sasSource'>421! places_bin / vif collin;</div><div class='sasSource'>422      /* output diagnostics if needed */</div><div class='sasSource'>423      output out=regdiag_&amp;g r=resid p=predicted;</div><div class='sasSource'>424    run;</div><div class='sasSource'>425    quit;</div><div class='sasSource'>426  %mend;</div><div class='sasSource'>427  </div><div class='sasSource'>428  %linreg_by_group(g=Staff);</div><div class='sasNote' id='sasLogNote_144b04b4-c0d5-43fd-af73-3daf9259f220'></div><div class='sasNote' id='sasLogNote_4b811cdb-0f5c-4e29-a8a6-f7faf30ce09f'></div><div class='sasNote' id='sasLogNote_5a427240-0c02-484b-b293-880e235f1907'>NOTE: The data set WORK.REGDIAG_STAFF has 235 observations and 18 variables.</div><div class='sasNote' id='sasLogNote_cf9844a5-4213-4f1a-a351-9018c3f2597b'>NOTE: The PROCEDURE REG printed pages 290-291.</div><div class='sasNote' id='sasLogNote_6639c96f-3f65-4ef3-94b2-9004a9c08e5c'>NOTE: PROCEDURE REG used (Total process time):</div><div class='sasNote' id='sasLogNote_9da1ae0d-b857-4ae1-91f1-58295de4e47b'>      real time           0.69 seconds</div><div class='sasNote' id='sasLogNote_d2749ce6-0a89-4ea2-b042-1937b2274eeb'>      cpu time            0.31 seconds</div><div class='sasNote' id='sasLogNote_c831b6e1-7f40-4840-8742-52fbbaf10180'>      </div><div class='sasNote' id='sasLogNote_bec311e8-14d5-4570-9030-281950045614'></div><div class='sasSource'>429  %linreg_by_group(g=Student);</div><div class='sasNote' id='sasLogNote_d9cbfc6a-e958-4788-a454-f870400588eb'></div><div class='sasError' id='sasLogError_9d5b0dbb-4497-455c-8f1f-17b46cd9692a'>ERROR: No valid observations are found.</div><div class='sasNote' id='sasLogNote_5fd585c1-355f-42df-9acb-14bf259f6415'></div><div class='sasNote' id='sasLogNote_5fe8f167-bf6a-4a71-86fd-59e42165c21b'>NOTE: The data set WORK.REGDIAG_STUDENT has 0 observations and 18 variables.</div><div class='sasNote' id='sasLogNote_ff889b08-6081-4c2c-8c6f-a935826a34f0'>NOTE: The PROCEDURE REG printed page 292.</div><div class='sasNote' id='sasLogNote_c153abff-1498-423d-a706-2ba7dbcb35d0'>NOTE: PROCEDURE REG used (Total process time):</div><div class='sasNote' id='sasLogNote_f704fd8a-8198-4046-80f9-adb7340fa621'>      real time           0.01 seconds</div><div class='sasNote' id='sasLogNote_ba5fc7f5-68ef-48f4-9249-d2a7ef131394'>      cpu time            0.01 seconds</div><div class='sasNote' id='sasLogNote_e703deca-4070-494b-9043-7ddfbdb1ed30'>      </div><div class='sasNote' id='sasLogNote_22b67eb4-76a3-4edb-b8e4-8f7c95e752cd'></div><div class='sasSource'>430  %linreg_by_group(g=Combined);</div><div class='sasNote' id='sasLogNote_b3c05ef9-fed7-4bbe-bf82-c14e67a8debf'></div><div class='sasError' id='sasLogError_dfadc41f-a673-4d7d-8710-59ba80948fdc'>ERROR: No valid observations are found.</div><div class='sasNote' id='sasLogNote_491f907b-8695-4965-83b7-fedc8462709f'></div><div class='sasNote' id='sasLogNote_9c8d7890-9bab-4f39-8568-32c4481f7c07'>NOTE: The data set WORK.REGDIAG_COMBINED has 0 observations and 18 variables.</div><div class='sasNote' id='sasLogNote_5247c300-b7b6-4574-add3-d5aa656b5a25'>NOTE: The PROCEDURE REG printed page 293.</div><div class='sasNote' id='sasLogNote_8218f971-ff1b-46da-a9d3-09c5f58f3ac6'>NOTE: PROCEDURE REG used (Total process time):</div><div class='sasNote' id='sasLogNote_a970201b-b654-4a7e-ad6a-da39fd1a96b0'>      real time           0.01 seconds</div><div class='sasNote' id='sasLogNote_5263eb13-82c5-4a27-a2eb-e1e771e2acb1'>      cpu time            0.02 seconds</div><div class='sasNote' id='sasLogNote_70ff497d-5e11-4632-aecc-a4af4c163e09'>      </div><div class='sasNote' id='sasLogNote_fd03e3ad-5d04-4c05-a70c-1d9feda66b6a'></div><div class='sasSource'>431  </div><div class='sasSource'>432  /* 4. Logistic regression: Predict compliance_bin (binary) */</div><div class='sasSource'>433  /* Include categorical predictors with CLASS statement */</div><div class='sasSource'>434  %macro logit_by_group(g=);</div><div class='sasSource'>435    title "Logistic regression (compliance_bin) - &amp;g";</div><div class='sasSource'>436    proc logistic data=work.combined_numeric desc;</div><div class='sasSource'>437      where upcase(group)=upcase("&amp;g");</div><div class='sasSource'>438      class jobtitle (ref='Technician') faculty / param=ref;</div><div class='sasSource'>439      model compliance_bin (event='1') = familiar safe confident effective rateinst signage_num witnessed_bin trained_bin</div><div class='sasSource'>439! control_bin places_bin</div><div class='sasSource'>440                                       jobtitle faculty / selection=stepwise slentry=0.15 slstay=0.15 lackfit ctable;</div><div class='sasSource'>441      /* Assess collinearity via correlations or use effect selection */</div><div class='sasSource'>442      ods select ParameterEstimates FitStatistics Association ROCPanel;</div><div class='sasSource'>443    run;</div><div class='sasSource'>444  %mend;</div><div class='sasSource'>445  </div><div class='sasSource'>446  %logit_by_group(g=Staff);</div><div class='sasNote' id='sasLogNote_1921fd7f-ab49-4f7d-9588-25cfd301b1c8'>NOTE: PROC LOGISTIC is modeling the probability that compliance_bin=1.</div><div class='sasNote' id='sasLogNote_dbd19f2a-53c3-4b7a-a1a6-f87bc3e7b245'>NOTE: Convergence criterion (GCONV=1E-8) satisfied in Step 0.</div><div class='sasWarning' id='sasLogWarning_991dad41-8cbb-44cf-bf56-5a5b20daf55e'>WARNING: There is possibly a quasicomplete separation of data points in step 1. The maximum likelihood estimate may not exist.</div><div class='sasWarning' id='sasLogWarning_2df117b9-dd2f-485d-bef2-e5247bab0c11'>WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based on the last maximum likelihood </div><div class='sasWarning' id='sasLogWarning_d5fe22e1-b64f-41e0-b2e9-ab971f806abe'>         iteration. Validity of the model fit is questionable.</div><div class='sasNote' id='sasLogNote_37442ad4-4ca2-4803-ac7c-6d6dd4487d94'>NOTE: Convergence criterion (GCONV=1E-8) satisfied in Step 2.</div><div class='sasNote' id='sasLogNote_5106123e-027c-4517-a6db-f76cebae5d57'>NOTE: LACKFIT is ignored since there is no explanatory variable in the model.</div><div class='sasWarning' id='sasLogWarning_a83da10b-4002-4cfe-a70d-f17dd55acc65'>WARNING: Output 'ROCPanel' was not created.  Make sure that the output object name, label, or path is spelled correctly.  Also, </div><div class='sasWarning' id='sasLogWarning_6ee902ee-7e53-45ab-aa3e-771dce422a1e'>         verify that the appropriate procedure options are used to produce the requested output object.  For example, verify that </div><div class='sasWarning' id='sasLogWarning_812de25d-fac5-4352-961c-04e6f976b826'>         the NOPRINT option is not used.</div><div class='sasWarning' id='sasLogWarning_30626371-3772-41d3-90b7-1f409e9ead12'>WARNING: Output 'Association' was not created.  Make sure that the output object name, label, or path is spelled correctly.  Also, </div><div class='sasWarning' id='sasLogWarning_958a6cb1-1a00-4fd2-8765-82addc5636f8'>         verify that the appropriate procedure options are used to produce the requested output object.  For example, verify that </div><div class='sasWarning' id='sasLogWarning_a04ca93e-616b-4b9b-afe3-055009cdf677'>         the NOPRINT option is not used.</div><div class='sasNote' id='sasLogNote_a8b40049-6908-4dcf-b108-16f7439f5318'>NOTE: There were 235 observations read from the data set WORK.COMBINED_NUMERIC.</div><div class='sasNote' id='sasLogNote_c0f9cc82-8b6d-4b49-80da-40e4ae1cbd7e'>      WHERE UPCASE(group)='STAFF';</div><div class='sasNote' id='sasLogNote_5997f40e-027e-4f17-a3a6-9be8ff14f9c2'>NOTE: The PROCEDURE LOGISTIC printed page 294.</div><div class='sasNote' id='sasLogNote_b184eda0-1741-4207-8fc4-ab50c116809e'>NOTE: PROCEDURE LOGISTIC used (Total process time):</div><div class='sasNote' id='sasLogNote_054833bc-c2a8-466a-8dbb-30559d5d922e'>      real time           0.02 seconds</div><div class='sasNote' id='sasLogNote_b174a3cd-21a9-4a69-bc4f-beeb5699173a'>      cpu time            0.02 seconds</div><div class='sasNote' id='sasLogNote_1b1efd24-0a1e-4266-b2ef-49c3e1f293c1'>      </div><div class='sasNote' id='sasLogNote_ea476974-0072-46de-bedb-29087efe0186'></div><div class='sasSource'>447  %logit_by_group(g=Student);</div><div class='sasNote' id='sasLogNote_f5f1eb70-5fd7-4e07-903b-00343234dade'>NOTE: No observations were selected from data set WORK.COMBINED_NUMERIC.</div><div class='sasNote' id='sasLogNote_488c172e-b198-4bb5-984f-3fc1fe16f66b'>NOTE: There were 0 observations read from the data set WORK.COMBINED_NUMERIC.</div><div class='sasNote' id='sasLogNote_8c5575d8-6160-4d7a-bcc9-45ccefa57475'>      WHERE UPCASE(group)='STUDENT';</div><div class='sasNote' id='sasLogNote_3e3e0e82-9e92-4e62-95ff-cd4bd15822ef'>NOTE: PROCEDURE LOGISTIC used (Total process time):</div><div class='sasNote' id='sasLogNote_5473696b-b1ee-4765-95a6-6ed716d21645'>      real time           0.00 seconds</div><div class='sasNote' id='sasLogNote_8aa9e567-ab27-470b-af60-24556132a8f6'>      cpu time            0.00 seconds</div><div class='sasNote' id='sasLogNote_3d852d0f-432b-4d95-ba57-71bf9d453a73'>      </div><div class='sasWarning' id='sasLogWarning_1be94009-be08-46f3-9979-b7da52bbdf14'>WARNING: Output 'ROCPanel' was not created.  Make sure that the output object name, label, or path is spelled correctly.  Also, </div><div class='sasWarning' id='sasLogWarning_b3834e8c-6006-4885-b1a8-f4366b5ef5fc'>         verify that the appropriate procedure options are used to produce the requested output object.  For example, verify that </div><div class='sasWarning' id='sasLogWarning_b4c25559-0438-443b-b41a-574109a6a794'>         the NOPRINT option is not used.</div><div class='sasWarning' id='sasLogWarning_3a024fdf-174a-462f-bc83-4050ae5201ff'>WARNING: Output 'Association' was not created.  Make sure that the output object name, label, or path is spelled correctly.  Also, </div><div class='sasWarning' id='sasLogWarning_6dab9436-a914-416b-acb8-6b0c21e62cf4'>         verify that the appropriate procedure options are used to produce the requested output object.  For example, verify that </div><div class='sasWarning' id='sasLogWarning_98f58fc5-7d4b-499b-ab10-9c8f3f4a6282'>         the NOPRINT option is not used.</div><div class='sasWarning' id='sasLogWarning_a0c876fd-ebad-49c8-a7e3-379f4c6a1a89'>WARNING: Output 'FitStatistics' was not created.  Make sure that the output object name, label, or path is spelled correctly.  </div><div class='sasWarning' id='sasLogWarning_166f4372-c6d7-46ce-9ce7-d2280f092834'>         Also, verify that the appropriate procedure options are used to produce the requested output object.  For example, verify </div><div class='sasWarning' id='sasLogWarning_f3988af0-4b0e-45c1-9668-19268ed3038a'>         that the NOPRINT option is not used.</div><div class='sasWarning' id='sasLogWarning_401d62f7-1cc2-4a4e-9335-6f79da63ef55'>WARNING: Output 'ParameterEstimates' was not created.  Make sure that the output object name, label, or path is spelled correctly.  </div><div class='sasWarning' id='sasLogWarning_d079ca09-e7d3-450a-bb84-af2013fc54e5'>         Also, verify that the appropriate procedure options are used to produce the requested output object.  For example, verify </div><div class='sasWarning' id='sasLogWarning_ef3c512c-9d62-4565-bf11-669f529febf4'>         that the NOPRINT option is not used.</div><div class='sasNote' id='sasLogNote_e68020f0-0b98-40e3-9afa-2d5490555d6a'></div><div class='sasSource'>448  %logit_by_group(g=Combined);</div><div class='sasNote' id='sasLogNote_b0e94d95-7f34-44e4-aa0a-36e45991d72c'>NOTE: No observations were selected from data set WORK.COMBINED_NUMERIC.</div><div class='sasNote' id='sasLogNote_75bdf449-005f-4afb-890c-e862f28b2f67'>NOTE: There were 0 observations read from the data set WORK.COMBINED_NUMERIC.</div><div class='sasNote' id='sasLogNote_39383ea3-6433-4842-bc60-6b47fa3537ab'>      WHERE UPCASE(group)='COMBINED';</div><div class='sasNote' id='sasLogNote_2b4c43b8-dd84-408f-b503-1ef010d53648'>NOTE: PROCEDURE LOGISTIC used (Total process time):</div><div class='sasNote' id='sasLogNote_55461352-999f-471d-b1b3-783193ef6551'>      real time           0.00 seconds</div><div class='sasNote' id='sasLogNote_1e30be76-bb82-4db7-97cb-4daf9e484a26'>      cpu time            0.01 seconds</div><div class='sasNote' id='sasLogNote_ed020021-4825-4d57-8739-29c4c4c300b1'>      </div><div class='sasWarning' id='sasLogWarning_758e0ef5-e862-43b1-adfc-1f24024b069e'>WARNING: Output 'ROCPanel' was not created.  Make sure that the output object name, label, or path is spelled correctly.  Also, </div><div class='sasWarning' id='sasLogWarning_a5305313-32f8-489e-ad71-ea513abc1220'>         verify that the appropriate procedure options are used to produce the requested output object.  For example, verify that </div><div class='sasWarning' id='sasLogWarning_7f23a33f-5603-4845-a7ef-4d4abc7b9509'>         the NOPRINT option is not used.</div><div class='sasWarning' id='sasLogWarning_490b5968-a31f-4966-bb90-e9bde1e32292'>WARNING: Output 'Association' was not created.  Make sure that the output object name, label, or path is spelled correctly.  Also, </div><div class='sasWarning' id='sasLogWarning_2c9e9871-4992-4dd1-9793-802182df1b9a'>         verify that the appropriate procedure options are used to produce the requested output object.  For example, verify that </div><div class='sasWarning' id='sasLogWarning_4f698870-7bec-48a8-804d-892889b27bbb'>         the NOPRINT option is not used.</div><div class='sasWarning' id='sasLogWarning_d50df0c0-7205-4204-970d-e0759a68dc13'>WARNING: Output 'FitStatistics' was not created.  Make sure that the output object name, label, or path is spelled correctly.  </div><div class='sasWarning' id='sasLogWarning_d75b863d-e17b-4143-96e5-4da6b79d24ce'>         Also, verify that the appropriate procedure options are used to produce the requested output object.  For example, verify </div><div class='sasWarning' id='sasLogWarning_05ec10e2-49f4-455a-8d7d-b86f8f9e0e7f'>         that the NOPRINT option is not used.</div><div class='sasWarning' id='sasLogWarning_c0a76174-cc3b-4674-9810-defa33e00b14'>WARNING: Output 'ParameterEstimates' was not created.  Make sure that the output object name, label, or path is spelled correctly.  </div><div class='sasWarning' id='sasLogWarning_320d7fe4-fd2d-4031-8fdb-36158ac8e583'>         Also, verify that the appropriate procedure options are used to produce the requested output object.  For example, verify </div><div class='sasWarning' id='sasLogWarning_93639bab-fae1-4a4e-b59e-56d25f576873'>         that the NOPRINT option is not used.</div><div class='sasNote' id='sasLogNote_11f9e077-2825-46e6-a97b-a2f91685c15b'></div><div class='sasSource'>449  </div><div class='sasSource'>450  /* 5. Factor analysis on perception items (exploratory) */</div><div class='sasSource'>451  /* Use principal axis / maximum likelihood and varimax rotation */</div><div class='sasSource'>452  proc factor data=work.combined_numeric n=3 priors=smc rotate=varimax plots=scree;</div><div class='sasSource'>453    var familiar safe confident effective rateinst signage_num;</div><div class='sasSource'>454    title "Exploratory Factor Analysis - Perception Items (combined sample)";</div><div class='sasSource'>455  run;</div><div class='sasNote' id='sasLogNote_6a6ed0c2-90a7-4446-929c-9dfc6d62ac2e'></div><div class='sasWarning' id='sasLogWarning_3fea12fb-f9e5-4d79-8cb9-f67a6fde4997'>WARNING: 381 of 607 observations in data set WORK.COMBINED_NUMERIC omitted due to missing values.</div><div class='sasNote' id='sasLogNote_cfcb833c-e36c-40d9-985b-23a7aba8ae4c'>NOTE: 3 factors will be retained by the NFACTOR criterion.</div><div class='sasNote' id='sasLogNote_67ac0f55-79e1-4a5a-b96a-c5bc2ac2d2ce'>NOTE: Rotation converged.  Criterion changed from 6.730139 to 13.502921 in 5 cycles.</div><div class='sasNote' id='sasLogNote_7515540d-6783-4951-bf24-8ceae1860238'>NOTE: The PROCEDURE FACTOR printed pages 295-297.</div><div class='sasNote' id='sasLogNote_fbc75a74-46d1-4704-a200-37682b57f89c'>NOTE: PROCEDURE FACTOR used (Total process time):</div><div class='sasNote' id='sasLogNote_7a9c8442-bdf4-487c-b0b5-322b94928756'>      real time           0.12 seconds</div><div class='sasNote' id='sasLogNote_8147b287-ac7e-4690-a2a3-f5528dd925a0'>      cpu time            0.08 seconds</div><div class='sasNote' id='sasLogNote_ddb7b245-74bb-4602-afb9-e81bec203038'>      </div><div class='sasNote' id='sasLogNote_d4968d6a-96af-4d7e-ba06-941d5e6cef0c'></div><div class='sasSource'>456  </div><div class='sasSource'>457  /* Repeat factor analysis by group if desired */</div><div class='sasSource'>458  proc factor data=work.combined_numeric(where=(group='Staff')) n=3 priors=smc rotate=varimax;</div><div class='sasSource'>459    var familiar safe confident effective rateinst signage_num;</div><div class='sasSource'>460    title "Exploratory Factor Analysis - Staff only";</div><div class='sasSource'>461  run;</div><div class='sasNote' id='sasLogNote_bba75421-0f62-4e0c-9d0c-f7668d52cd18'></div><div class='sasWarning' id='sasLogWarning_b0995ef7-358f-4a30-acfd-a47b64e7b0f3'>WARNING: 9 of 235 observations in data set WORK.COMBINED_NUMERIC omitted due to missing values.</div><div class='sasNote' id='sasLogNote_badec064-36e3-448c-976e-a26b05e1b8e9'>NOTE: 3 factors will be retained by the NFACTOR criterion.</div><div class='sasNote' id='sasLogNote_f94a86ed-f34b-4d2f-bfba-5886c387158e'>NOTE: Rotation converged.  Criterion changed from 6.730139 to 13.502921 in 5 cycles.</div><div class='sasNote' id='sasLogNote_a36b2d22-c88a-483f-b623-b5e8f59f3c4f'>NOTE: The PROCEDURE FACTOR printed pages 298-300.</div><div class='sasNote' id='sasLogNote_0fa2a980-7eec-4183-a495-9cb31f176e3e'>NOTE: PROCEDURE FACTOR used (Total process time):</div><div class='sasNote' id='sasLogNote_d9653df2-9c7a-4bef-8c45-8d1b90157d82'>      real time           0.04 seconds</div><div class='sasNote' id='sasLogNote_37cbdec0-ac67-4a3e-a630-fb6068ee3602'>      cpu time            0.04 seconds</div><div class='sasNote' id='sasLogNote_d1b740f5-49a8-49ab-8bdc-f9c83d0d1045'>      </div><div class='sasNote' id='sasLogNote_2677ae8c-8288-4fcc-a846-164d7535cb69'></div><div class='sasSource'>462  </div><div class='sasSource'>463  proc factor data=work.combined_numeric(where=(group='Student')) n=3 priors=smc rotate=varimax;</div><div class='sasSource'>464    var familiar safe confident effective rateinst signage_num;</div><div class='sasSource'>465    title "Exploratory Factor Analysis - Students only";</div><div class='sasSource'>466  run;</div><div class='sasNote' id='sasLogNote_1c7fd3da-2339-45c9-aa95-3e1f50bde9e4'></div><div class='sasNote' id='sasLogNote_3023913b-a668-4dc7-8efe-09f37fcc497b'>NOTE: No observations were selected from data set WORK.COMBINED_NUMERIC.</div><div class='sasNote' id='sasLogNote_e35c046f-1a8e-4462-a8e2-db42fd5bac3b'>NOTE: PROCEDURE FACTOR used (Total process time):</div><div class='sasNote' id='sasLogNote_0cd5d78a-40df-443d-80f4-d6afa3bcb14d'>      real time           0.00 seconds</div><div class='sasNote' id='sasLogNote_1296ad08-3a4b-4181-91f0-b0cc06bcc9b0'>      cpu time            0.00 seconds</div><div class='sasNote' id='sasLogNote_b1f3534f-40f4-4474-bd00-706b1389e948'>      </div><div class='sasNote' id='sasLogNote_a82f2390-48e6-4920-8e28-69b7c12dd995'></div><div class='sasSource'>467  </div><div class='sasSource'>468  /* 6. Optional: create factor scores and use them in regression/logistic models */</div><div class='sasSource'>469  /* Example: use PROC FACTOR OUTSTAT for scoring, or use PROC SCORE/PRINCOMP */</div><div class='sasSource'>470  /* Here is an example using PROC PRINCOMP to derive components and then use them */</div><div class='sasSource'>471  </div><div class='sasSource'>472  proc princomp data=work.combined_numeric out=pc_scores;</div><div class='sasSource'>473    var familiar safe confident effective rateinst signage_num;</div><div class='sasSource'>474    title "PCA (for deriving component scores)";</div><div class='sasSource'>475  run;</div><div class='sasNote' id='sasLogNote_ae21e6f2-3163-411c-a685-490240e055ec'></div><div class='sasWarning' id='sasLogWarning_faf5f805-f824-4eb8-996b-20a0c9ade552'>WARNING: 381 of 607 observations in data set WORK.COMBINED_NUMERIC omitted due to missing values.</div><div class='sasNote' id='sasLogNote_3ddadb1e-d9e2-4faa-9a6c-5f396edc4427'>NOTE: The data set WORK.PC_SCORES has 607 observations and 22 variables.</div><div class='sasNote' id='sasLogNote_813b4451-3bc3-455b-9f28-e4e7b24c83c8'>NOTE: The PROCEDURE PRINCOMP printed page 301.</div><div class='sasNote' id='sasLogNote_fe07ee8e-ca61-484b-b493-41af3e1f29ab'>NOTE: PROCEDURE PRINCOMP used (Total process time):</div><div class='sasNote' id='sasLogNote_a2ef3185-a161-496e-a6a0-468f533c72e4'>      real time           0.10 seconds</div><div class='sasNote' id='sasLogNote_9012260e-40f0-4714-84ab-8934b923101e'>      cpu time            0.06 seconds</div><div class='sasNote' id='sasLogNote_ade99b58-e7d9-4930-bda1-229a647b6ab2'>      </div><div class='sasNote' id='sasLogNote_7d2c6cc6-8b1a-449e-a49c-3dde04af9735'></div><div class='sasSource'>476  </div><div class='sasSource'>477  proc print data=pc_scores(obs=10);</div><div class='sasSource'>478    var Prin1 Prin2 Prin3 group compliance_score compliance_bin;</div><div class='sasSource'>479  run;</div><div class='sasNote' id='sasLogNote_c3cc181b-9e95-4a5d-ad98-bd3aa96d125d'></div><div class='sasNote' id='sasLogNote_59205e94-e74e-4dd3-812f-6c08ed6997c1'>NOTE: There were 10 observations read from the data set WORK.PC_SCORES.</div><div class='sasNote' id='sasLogNote_daeefa5c-e340-42da-8061-cfa504ff3c33'>NOTE: The PROCEDURE PRINT printed page 302.</div><div class='sasNote' id='sasLogNote_b24bff62-2ba5-42b8-afe6-f093a786342e'>NOTE: PROCEDURE PRINT used (Total process time):</div><div class='sasNote' id='sasLogNote_bd13dae6-d007-4e8e-badc-ee37a8294ae5'>      real time           0.01 seconds</div><div class='sasNote' id='sasLogNote_77711bba-7602-4f7b-8e9a-9626897bdeae'>      cpu time            0.01 seconds</div><div class='sasNote' id='sasLogNote_23925582-9d5b-4507-a5b9-5adb135ff445'>      </div><div class='sasNote' id='sasLogNote_5b70f09f-11f9-401f-95eb-c6fc2a08b172'></div><div class='sasSource'>480  </div><div class='sasSource'>481  /* Use first principal component as composite perception score in logistic regression */</div><div class='sasSource'>482  proc logistic data=pc_scores desc;</div><div class='sasSource'>483    where not missing(compliance_bin);</div><div class='sasSource'>484    class jobtitle faculty / param=ref;</div><div class='sasSource'>485    model compliance_bin(event='1') = Prin1 Prin2 trained_bin control_bin witnessed_bin places_bin / ctable rsquare;</div><div class='sasSource'>486    title "Logistic with PCA-derived predictors";</div><div class='sasSource'>487  run;</div><div class='sasNote' id='sasLogNote_d9611c00-feb2-4bfe-84fe-c3d82e1fcced'></div><div class='sasNote' id='sasLogNote_8df0a7af-20e3-4d5e-841c-1a0d50dc437c'>NOTE: PROC LOGISTIC is modeling the probability that compliance_bin=1.</div><div class='sasWarning' id='sasLogWarning_0d9b9545-a26d-45e6-9f01-1f34836fca15'>WARNING: There is a complete separation of data points. The maximum likelihood estimate does not exist.</div><div class='sasWarning' id='sasLogWarning_fd068140-883f-4886-bad3-ccea6e97997b'>WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based on the last maximum likelihood </div><div class='sasWarning' id='sasLogWarning_7db25fce-3297-4bf1-b18c-6bdd332be938'>         iteration. Validity of the model fit is questionable.</div><div class='sasNote' id='sasLogNote_62534ca8-9167-427f-99d4-42f65b916ecf'>NOTE: There were 235 observations read from the data set WORK.PC_SCORES.</div><div class='sasNote' id='sasLogNote_5fd43829-cae5-42ab-96df-5ae6e62dbdf9'>      WHERE not MISSING(compliance_bin);</div><div class='sasNote' id='sasLogNote_c2c0e9ab-4854-4e8f-9d39-c9810d491727'>NOTE: The PROCEDURE LOGISTIC printed pages 303-305.</div><div class='sasNote' id='sasLogNote_e71a40e0-8215-45d6-8b65-27dfb1907b32'>NOTE: PROCEDURE LOGISTIC used (Total process time):</div><div class='sasNote' id='sasLogNote_b6633a3e-4754-4901-8e01-fb49367a95fb'>      real time           0.08 seconds</div><div class='sasNote' id='sasLogNote_88bc4796-e41e-4a69-b9da-a120fa4287d7'>      cpu time            0.09 seconds</div><div class='sasNote' id='sasLogNote_7290cb39-d064-4e72-8bd7-499cd7c1cbfb'>      </div><div class='sasNote' id='sasLogNote_da7abf84-5730-4f9b-93b6-5d28c2f7ab8e'></div><div class='sasSource'>488  </div><div class='sasSource'>489  /* 7. Diagnostics &amp; model checking recommendations (not code outputs):</div><div class='sasSource'>490     - Check VIF from PROC REG to detect multicollinearity.</div><div class='sasSource'>491     - Check residuals (regdiag dataset) for heteroscedasticity/outliers.</div><div class='sasSource'>492     - For logistic: check Hosmer-Lemeshow (lackfit) and ROC/AUC.</div><div class='sasSource'>493     - If observations per category are very small, consider combining rare faculty categories.</div><div class='sasSource'>494  */</div><div class='sasSource'>495  </div><div class='sasSource'>496  /* End */</div><div class='sasSource'>497  </div><div class='sasSource'>498  </div><div class='sasSource'>499  /* region: Generated postamble */</div><div class='sasSource'>500  /* Close ODS destinations */</div><div class='sasSource'>501  &amp;graphterm; ;*';*";*/;run;quit;</div><div class='sasSource'>502  quit;run;</div><div class='sasSource'>503  ods html5 (id=web) close;</div><div class='sasSource'>504  ods listing close;</div><div class='sasSource'>505  %if %sysfunc(fileref(_gsfname)) lt 0 %then %do;</div><div class='sasSource'>506      filename _gsfname clear;</div><div class='sasNote' id='sasLogNote_f6e15082-7c6d-4e4e-914b-d29fa186be56'>NOTE: Fileref _GSFNAME has been deassigned.</div><div class='sasSource'>507  %end;</div><div class='sasSource'>508  %studio_capture_custom_output;</div><div class='sasSource'>509  /* endregion */</div><div class='sasSource'>510  </div><div class='sasNote' id='sasLogNote_707638de-4b3e-4f09-a7bc-6cac5a602be7'></div></pre></body></html>